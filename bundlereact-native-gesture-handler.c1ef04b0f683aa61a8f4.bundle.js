"use strict";(self.webpackChunklahelu_client=self.webpackChunklahelu_client||[]).push([[749],{56963:(t,e,i)=>{i.r(e),i.d(e,{BaseButton:()=>Es,BorderlessButton:()=>Ps,Directions:()=>gt,DrawerLayout:()=>bn,DrawerLayoutAndroid:()=>qs,FlatList:()=>$s,FlingGestureHandler:()=>di,ForceTouchGestureHandler:()=>si,Gesture:()=>hs,GestureDetector:()=>Ui,GestureHandlerRootView:()=>we,HoverEffect:()=>wi,LongPressGestureHandler:()=>ri,MouseButton:()=>it,NativeViewGestureHandler:()=>pi,PanGestureHandler:()=>li,PinchGestureHandler:()=>hi,PointerType:()=>H,Pressable:()=>fn,PureNativeButton:()=>fs,RawButton:()=>gs,RectButton:()=>bs,RefreshControl:()=>zs,RotationGestureHandler:()=>ui,ScrollView:()=>Ws,State:()=>n,Swipeable:()=>sn,Switch:()=>Bs,TapGestureHandler:()=>Qe,Text:()=>Zs,TextInput:()=>js,TouchableHighlight:()=>Fs,TouchableNativeFeedback:()=>Os,TouchableOpacity:()=>ks,TouchableWithoutFeedback:()=>Rs,createNativeWrapper:()=>Ei,enableExperimentalWebImplementation:()=>D,enableLegacyWebImplementation:()=>R,gestureHandlerRootHOC:()=>Ie});var s=i(29697);const n={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5};function r(){return t=i.g,Object.prototype.hasOwnProperty.call(t,"process")&&!!{}.JEST_WORKER_ID;var t}function o(t){return`[react-native-gesture-handler] ${t}`}function a(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e||null===t||null===e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(const n of i)if(!s.includes(n)||!a(t[n],e[n]))return!1;return!0}const l=2**31-1,h={},u=new Map,c=new Map,d=new Map;function f(t,e,i){u.set(t,e),r()&&i&&d.set(i,t)}function v(t,e){u.delete(t),r()&&e&&d.delete(e)}class p{static getHandler(t){if(t in this.gestures)return this.gestures[t];throw new Error(`No handler for tag ${t}`)}static createGestureHandler(t,e){if(t in this.gestures)throw new Error(`Handler with tag ${t} already exists. Please ensure that no Gesture instance is used across multiple GestureDetectors.`);this.gestures[t]=e,this.gestures[t].setTag(t)}static dropGestureHandler(t){t in this.gestures&&(this.gestures[t].onDestroy(),delete this.gestures[t])}static getNodes(){return{...this.gestures}}}var g,m,E;E={},(m="gestures")in(g=p)?Object.defineProperty(g,m,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[m]=E;const T=t=>({begin:()=>{p.getHandler(t).begin()},activate:()=>{p.getHandler(t).activate(!0)},fail:()=>{p.getHandler(t).fail()},end:()=>{p.getHandler(t).end()}});let y=null,S=null;const b=new Map,A=[];function P(t){return null!=t.oldState}function O(t){var e,i,s,r,o,a,l,h;const d=function(t){return u.get(t)}(t.handlerTag);if(d){var f,v;if(P(t))if(t.oldState===n.UNDETERMINED&&t.state===n.BEGAN)null===(f=(v=d.handlers).onBegin)||void 0===f||f.call(v,t);else if(t.oldState!==n.BEGAN&&t.oldState!==n.UNDETERMINED||t.state!==n.ACTIVE){if(t.oldState!==t.state&&t.state===n.END){var p,g,m,E;t.oldState===n.ACTIVE&&(null===(m=(E=d.handlers).onEnd)||void 0===m||m.call(E,t,!0)),null===(p=(g=d.handlers).onFinalize)||void 0===p||p.call(g,t,!0),A[d.handlers.handlerTag]=void 0}else if((t.state===n.FAILED||t.state===n.CANCELLED)&&t.oldState!==t.state){var y,S,O,w;t.oldState===n.ACTIVE&&(null===(O=(w=d.handlers).onEnd)||void 0===O||O.call(w,t,!1)),null===(y=(S=d.handlers).onFinalize)||void 0===y||y.call(S,t,!1),b.delete(t.handlerTag),A[d.handlers.handlerTag]=void 0}}else{var C,I;null===(C=(I=d.handlers).onStart)||void 0===C||C.call(I,t),A[d.handlers.handlerTag]=t}else if(function(t){return null!=t.eventType}(t)){b.has(t.handlerTag)||b.set(t.handlerTag,T(t.handlerTag));const n=b.get(t.handlerTag);switch(t.eventType){case 1:null===(e=d.handlers)||void 0===e||null===(i=e.onTouchesDown)||void 0===i||i.call(e,t,n);break;case 2:null===(s=d.handlers)||void 0===s||null===(r=s.onTouchesMove)||void 0===r||r.call(s,t,n);break;case 3:null===(o=d.handlers)||void 0===o||null===(a=o.onTouchesUp)||void 0===a||a.call(o,t,n);break;case 4:null===(l=d.handlers)||void 0===l||null===(h=l.onTouchesCancelled)||void 0===h||h.call(l,t,n)}}else{var N,D,R,M,x,G;null===(N=(D=d.handlers).onUpdate)||void 0===N||N.call(D,t),d.handlers.onChange&&d.handlers.changeEventCalculator&&(null===(R=(M=d.handlers).onChange)||void 0===R||R.call(M,null===(x=(G=d.handlers).changeEventCalculator)||void 0===x?void 0:x.call(G,t,A[d.handlers.handlerTag])),A[d.handlers.handlerTag]=t)}}else{const e=function(t){return c.get(t)}(t.handlerTag);if(e){const i={nativeEvent:t};return void(P(t)?e.onGestureStateChange(i):e.onGestureEvent(i))}}}var w=i(96540),C=i(67862);let I=!0,N=!1;function D(t=!0){console.warn(o("New web implementation is enabled by default. This function will be removed in Gesture Handler 3."))}function R(t=!0){console.warn(o("Legacy web implementation is deprecated. This function will be removed in Gesture Handler 3.")),"web"===C.default.OS&&I!==!t&&(N?console.error("Some parts of this application have already started using the new gesture handler implementation. No changes will be applied. You can try enabling legacy implementation earlier."):I=!t)}function M(){return N=!0,I}let x,G,k,H;function X(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var F;!function(t){t[t.DOWN=0]="DOWN",t[t.ADDITIONAL_POINTER_DOWN=1]="ADDITIONAL_POINTER_DOWN",t[t.UP=2]="UP",t[t.ADDITIONAL_POINTER_UP=3]="ADDITIONAL_POINTER_UP",t[t.MOVE=4]="MOVE",t[t.ENTER=5]="ENTER",t[t.LEAVE=6]="LEAVE",t[t.CANCEL=7]="CANCEL"}(x||(x={})),(F=G||(G={}))[F.UNDETERMINED=0]="UNDETERMINED",F[F.DOWN=1]="DOWN",F[F.MOVE=2]="MOVE",F[F.UP=3]="UP",F[F.CANCELLED=4]="CANCELLED",function(t){t[t.UNDETERMINED=0]="UNDETERMINED",t[t.MOUSE=1]="MOUSE",t[t.TOUCHPAD=2]="TOUCHPAD"}(k||(k={})),function(t){t[t.TOUCH=0]="TOUCH",t[t.STYLUS=1]="STYLUS",t[t.MOUSE=2]="MOUSE",t[t.KEY=3]="KEY",t[t.OTHER=4]="OTHER"}(H||(H={}));class Y{constructor(t){X(this,"bufferSize",void 0),X(this,"buffer",void 0),X(this,"index",void 0),X(this,"actualSize",void 0),this.bufferSize=t,this.buffer=new Array(t),this.index=0,this.actualSize=0}get size(){return this.actualSize}push(t){this.buffer[this.index]=t,this.index=(this.index+1)%this.bufferSize,this.actualSize=Math.min(this.actualSize+1,this.bufferSize)}get(t){if(this.actualSize===this.bufferSize){let e=(this.index+t)%this.bufferSize;return e<0&&(e+=this.bufferSize),this.buffer[e]}return this.buffer[t]}clear(){this.buffer=new Array(this.bufferSize),this.index=0,this.actualSize=0}}function L(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class _{constructor(t){L(this,"offset",void 0),L(this,"length",void 0),L(this,"elements",void 0),this.offset=0,this.length=t,this.elements=new Array(t)}static fromVOL(t,e,i){const s=new _(0);return s.offset=e,s.length=i,s.elements=t,s}get(t){return this.elements[this.offset+t]}set(t,e){this.elements[this.offset+t]=e}dot(t){let e=0;for(let i=0;i<this.length;i++)e+=this.get(i)*t.get(i);return e}norm(){return Math.sqrt(this.dot(this))}}class V{constructor(t,e){L(this,"columns",void 0),L(this,"elements",void 0),this.columns=e,this.elements=new Array(t*e)}get(t,e){return this.elements[t*this.columns+e]}set(t,e,i){this.elements[t*this.columns+e]=i}getRow(t){return _.fromVOL(this.elements,t*this.columns,this.columns)}}class U{constructor(t){L(this,"coefficients",void 0),this.coefficients=new Array(t+1)}}class W{constructor(t,e,i){L(this,"x",void 0),L(this,"y",void 0),L(this,"w",void 0),this.x=t,this.y=e,this.w=i}solve(t){if(t>this.x.length)return null;const e=new U(t),i=this.x.length,s=t+1,n=new V(s,i);for(let t=0;t<i;t++){n.set(0,t,this.w[t]);for(let e=1;e<s;e++)n.set(e,t,n.get(e-1,t)*this.x[t])}const r=new V(s,i),o=new V(s,i);for(let t=0;t<s;t+=1){for(let e=0;e<i;e+=1)r.set(t,e,n.get(t,e));for(let e=0;e<t;e+=1){const s=r.getRow(t).dot(r.getRow(e));for(let n=0;n<i;n+=1)r.set(t,n,r.get(t,n)-s*r.get(e,n))}const e=r.getRow(t).norm();if(e<1e-10)return null;const a=1/e;for(let e=0;e<i;e+=1)r.set(t,e,r.get(t,e)*a);for(let e=0;e<s;e+=1)o.set(t,e,e<t?0:r.getRow(t).dot(n.getRow(e)))}const a=new _(i);for(let t=0;t<i;t+=1)a.set(t,this.y[t]*this.w[t]);for(let t=s-1;t>=0;t-=1){e.coefficients[t]=r.getRow(t).dot(a);for(let i=s-1;i>t;i-=1)e.coefficients[t]-=o.get(t,i)*e.coefficients[i];e.coefficients[t]/=o.get(t,t)}return e}}function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class j{constructor(){B(this,"assumePointerMoveStoppedMilliseconds",40),B(this,"historySize",20),B(this,"horizonMilliseconds",300),B(this,"minSampleSize",3),B(this,"samples",void 0),this.samples=new Y(this.historySize)}add(t){this.samples.push(t)}getVelocityEstimate(){const t=[],e=[],i=[],s=[];let n=0,r=this.samples.size-1;const o=this.samples.get(r);if(!o)return null;let a=o;for(;n<this.samples.size;){const l=this.samples.get(r),h=o.time-l.time,u=Math.abs(l.time-a.time);if(a=l,h>this.horizonMilliseconds||u>this.assumePointerMoveStoppedMilliseconds)break;t.push(l.x),e.push(l.y),i.push(1),s.push(-h),n++,r--}if(n>=this.minSampleSize){const n=new W(s,t,i).solve(2);if(null!==n){const t=new W(s,e,i).solve(2);if(null!==t)return[1e3*n.coefficients[1],1e3*t.coefficients[1]]}}return null}getVelocity(){const t=this.getVelocityEstimate();return null!==t?t:[0,0]}reset(){this.samples.clear()}}function q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class z{constructor(){q(this,"velocityTracker",new j),q(this,"trackedPointers",new Map),q(this,"touchEventsIds",new Map),q(this,"lastMovedPointerId",void 0),q(this,"cachedAbsoluteAverages",{x:0,y:0}),q(this,"cachedRelativeAverages",{x:0,y:0}),this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}addToTracker(t){if(this.trackedPointers.has(t.pointerId))return;this.lastMovedPointerId=t.pointerId;const e={abosoluteCoords:{x:t.x,y:t.y},relativeCoords:{x:t.offsetX,y:t.offsetY},timestamp:t.time,velocityX:0,velocityY:0};this.trackedPointers.set(t.pointerId,e),this.mapTouchEventId(t.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(t){this.trackedPointers.delete(t),this.removeMappedTouchId(t)}track(t){const e=this.trackedPointers.get(t.pointerId);if(!e)return;this.lastMovedPointerId=t.pointerId,this.velocityTracker.add(t);const[i,s]=this.velocityTracker.getVelocity();e.velocityX=i,e.velocityY=s,e.abosoluteCoords={x:t.x,y:t.y},e.relativeCoords={x:t.offsetX,y:t.offsetY},this.trackedPointers.set(t.pointerId,e),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(t){for(const[e,i]of this.touchEventsIds)if(isNaN(i)){this.touchEventsIds.set(e,t);break}}removeMappedTouchId(t){const e=this.getMappedTouchEventId(t);isNaN(e)||this.touchEventsIds.set(e,NaN)}getMappedTouchEventId(t){for(const[e,i]of this.touchEventsIds.entries())if(i===t)return e;return NaN}getVelocity(t){var e,i;return{x:null===(e=this.trackedPointers.get(t))||void 0===e?void 0:e.velocityX,y:null===(i=this.trackedPointers.get(t))||void 0===i?void 0:i.velocityY}}getLastAbsoluteCoords(t){var e;return null===(e=this.trackedPointers.get(null!=t?t:this.lastMovedPointerId))||void 0===e?void 0:e.abosoluteCoords}getLastRelativeCoords(t){var e;return null===(e=this.trackedPointers.get(null!=t?t:this.lastMovedPointerId))||void 0===e?void 0:e.relativeCoords}getAbsoluteCoordsAverage(){const t=this.getAbsoluteCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedAbsoluteAverages.x:e,y:isNaN(i)?this.cachedAbsoluteAverages.y:i}}getRelativeCoordsAverage(){const t=this.getRelativeCoordsSum(),e=t.x/this.trackedPointers.size,i=t.y/this.trackedPointers.size;return{x:isNaN(e)?this.cachedRelativeAverages.x:e,y:isNaN(i)?this.cachedRelativeAverages.y:i}}getAbsoluteCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach(((i,s)=>{s!==t&&(e.x+=i.abosoluteCoords.x,e.y+=i.abosoluteCoords.y)})),e}getRelativeCoordsSum(t){const e={x:0,y:0};return this.trackedPointers.forEach(((i,s)=>{s!==t&&(e.x+=i.relativeCoords.x,e.y+=i.relativeCoords.y)})),e}getTrackedPointersCount(){return this.trackedPointers.size}getTrackedPointersID(){const t=[];return this.trackedPointers.forEach(((e,i)=>{t.push(i)})),t}getData(){return this.trackedPointers}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}static shareCommonPointers(t,e){return t.some((t=>e.includes(t)))}}function $(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class J{constructor(){$(this,"gestureHandlers",[]),$(this,"awaitingHandlers",[]),$(this,"awaitingHandlersTags",new Set),$(this,"handlingChangeSemaphore",0),$(this,"activationIndex",0)}scheduleFinishedHandlersCleanup(){0===this.handlingChangeSemaphore&&this.cleanupFinishedHandlers()}cleanHandler(t){t.reset(),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_VALUE)}removeHandlerFromOrchestrator(t){const e=this.gestureHandlers.indexOf(t),i=this.awaitingHandlers.indexOf(t);e>=0&&this.gestureHandlers.splice(e,1),i>=0&&(this.awaitingHandlers.splice(i,1),this.awaitingHandlersTags.delete(t.getTag()))}cleanupFinishedHandlers(){const t=new Set;for(let e=this.gestureHandlers.length-1;e>=0;--e){const i=this.gestureHandlers[e];this.isFinished(i.getState())&&!i.isAwaiting()&&(this.cleanHandler(i),t.add(i))}this.gestureHandlers=this.gestureHandlers.filter((e=>!t.has(e)))}hasOtherHandlerToWaitFor(t){return this.gestureHandlers.some((e=>!this.isFinished(e.getState())&&this.shouldHandlerWaitForOther(t,e)))}shouldBeCancelledByFinishedHandler(t){return this.gestureHandlers.some((e=>this.shouldHandlerWaitForOther(t,e)&&e.getState()===n.END))}tryActivate(t){if(this.shouldBeCancelledByFinishedHandler(t))return void t.cancel();if(this.hasOtherHandlerToWaitFor(t))return void this.addAwaitingHandler(t);const e=t.getState();e!==n.CANCELLED&&e!==n.FAILED&&(this.shouldActivate(t)?this.makeActive(t):e!==n.ACTIVE?e===n.BEGAN&&t.cancel():t.fail())}shouldActivate(t){return!this.gestureHandlers.some((e=>this.shouldHandlerBeCancelledBy(t,e)))}cleanupAwaitingHandlers(t){const e=e=>!e.isAwaiting()&&this.shouldHandlerWaitForOther(e,t);for(const t of this.awaitingHandlers)e(t)&&(this.cleanHandler(t),this.awaitingHandlersTags.delete(t.getTag()));this.awaitingHandlers=this.awaitingHandlers.filter((t=>this.awaitingHandlersTags.has(t.getTag())))}onHandlerStateChange(t,e,i,s){if(t.isEnabled()||s){if(this.handlingChangeSemaphore+=1,this.isFinished(e))for(const i of this.awaitingHandlers)this.shouldHandlerWaitForOther(i,t)&&this.awaitingHandlersTags.has(i.getTag())&&(e===n.END?(i.cancel(),i.getState()===n.END&&i.sendEvent(n.CANCELLED,n.BEGAN),i.setAwaiting(!1)):this.tryActivate(i));e===n.ACTIVE?this.tryActivate(t):i===n.ACTIVE||i===n.END?t.isActive()?t.sendEvent(e,i):i!==n.ACTIVE||e!==n.CANCELLED&&e!==n.FAILED||t.sendEvent(e,n.BEGAN):i===n.UNDETERMINED&&e===n.CANCELLED||t.sendEvent(e,i),this.handlingChangeSemaphore-=1,this.scheduleFinishedHandlersCleanup(),this.awaitingHandlers.includes(t)||this.cleanupAwaitingHandlers(t)}}makeActive(t){const e=t.getState();t.setActive(!0),t.setShouldResetProgress(!0),t.setActivationIndex(this.activationIndex++);for(let e=this.gestureHandlers.length-1;e>=0;--e)this.shouldHandlerBeCancelledBy(this.gestureHandlers[e],t)&&this.gestureHandlers[e].cancel();for(const e of this.awaitingHandlers)this.shouldHandlerBeCancelledBy(e,t)&&e.setAwaiting(!1);t.sendEvent(n.ACTIVE,n.BEGAN),e!==n.ACTIVE&&(t.sendEvent(n.END,n.ACTIVE),e!==n.END&&t.sendEvent(n.UNDETERMINED,n.END)),t.isAwaiting()&&(t.setAwaiting(!1),this.awaitingHandlers=this.awaitingHandlers.filter((e=>e!==t)))}addAwaitingHandler(t){this.awaitingHandlers.includes(t)||(this.awaitingHandlers.push(t),this.awaitingHandlersTags.add(t.getTag()),t.setAwaiting(!0),t.setActivationIndex(this.activationIndex++))}recordHandlerIfNotPresent(t){this.gestureHandlers.includes(t)||(this.gestureHandlers.push(t),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_SAFE_INTEGER))}shouldHandlerWaitForOther(t,e){return t!==e&&(t.shouldWaitForHandlerFailure(e)||e.shouldRequireToWaitForFailure(t))}canRunSimultaneously(t,e){return t===e||t.shouldRecognizeSimultaneously(e)||e.shouldRecognizeSimultaneously(t)}shouldHandlerBeCancelledBy(t,e){if(this.canRunSimultaneously(t,e))return!1;if(t.isAwaiting()||t.getState()===n.ACTIVE)return t.shouldBeCancelledByOther(e);const i=t.getTrackedPointersID(),s=e.getTrackedPointersID();return!(!z.shareCommonPointers(i,s)&&t.getDelegate().getView()!==e.getDelegate().getView())||this.checkOverlap(t,e)}checkOverlap(t,e){return t.getTrackedPointersID().some((i=>{const s=t.getTracker().getLastAbsoluteCoords(i);return t.getDelegate().isPointerInBounds(s)&&e.getDelegate().isPointerInBounds(s)}))}isFinished(t){return t===n.END||t===n.FAILED||t===n.CANCELLED}cancelMouseAndPenGestures(t){this.gestureHandlers.forEach((e=>{e.getPointerType()!==H.MOUSE&&e.getPointerType()!==H.STYLUS||(e!==t?e.cancel():e.getTracker().resetTracker())}))}static getInstance(){return J.instance||(J.instance=new J),J.instance}}function K(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}$(J,"instance",void 0);class Z{constructor(){K(this,"waitForRelations",new Map),K(this,"simultaneousRelations",new Map),K(this,"blocksHandlersRelations",new Map)}configureInteractions(t,e){if(this.dropRelationsForHandlerWithTag(t.getTag()),e.waitFor){const i=[];e.waitFor.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.waitForRelations.set(t.getTag(),i)}if(e.simultaneousHandlers){const i=[];e.simultaneousHandlers.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.simultaneousRelations.set(t.getTag(),i)}if(e.blocksHandlers){const i=[];e.blocksHandlers.forEach((t=>{"number"==typeof t?i.push(t):i.push(t.handlerTag)})),this.blocksHandlersRelations.set(t.getTag(),i)}}shouldWaitForHandlerFailure(t,e){const i=this.waitForRelations.get(t.getTag());return void 0!==(null==i?void 0:i.find((t=>t===e.getTag())))}shouldRecognizeSimultaneously(t,e){const i=this.simultaneousRelations.get(t.getTag());return void 0!==(null==i?void 0:i.find((t=>t===e.getTag())))}shouldRequireHandlerToWaitForFailure(t,e){const i=this.blocksHandlersRelations.get(t.getTag());return void 0!==(null==i?void 0:i.find((t=>t===e.getTag())))}shouldHandlerBeCancelledBy(t,e){var i;const s="NativeViewGestureHandler"===e.constructor.name,r=e.getState()===n.ACTIVE,o=!0===(null===(i=e.isButton)||void 0===i?void 0:i.call(e));return s&&r&&!o}dropRelationsForHandlerWithTag(t){this.waitForRelations.delete(t),this.simultaneousRelations.delete(t),this.blocksHandlersRelations.delete(t)}reset(){this.waitForRelations.clear(),this.simultaneousRelations.clear(),this.blocksHandlersRelations.clear()}static getInstance(){return this.instance||(this.instance=new Z),this.instance}}K(Z,"instance",void 0);const Q=["id","enabled","shouldCancelWhenOutside","hitSlop","cancelsTouchesInView","userSelect","activeCursor","mouseButton","enableContextMenu","touchAction"],tt=[...Q,"waitFor","simultaneousHandlers","blocksHandlers","onBegan","onFailed","onCancelled","onActivated","onEnded","onGestureEvent","onHandlerStateChange"],et=[...Q,"needsPointerData","manualActivation"];let it;function st(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.MIDDLE=4]="MIDDLE",t[t.BUTTON_4=8]="BUTTON_4",t[t.BUTTON_5=16]="BUTTON_5",t[t.ALL=31]="ALL"}(it||(it={}));class nt{constructor(t){st(this,"lastSentState",null),st(this,"currentState",n.UNDETERMINED),st(this,"shouldCancelWhenOutside",!1),st(this,"hasCustomActivationCriteria",!1),st(this,"enabled",!1),st(this,"viewRef",void 0),st(this,"propsRef",void 0),st(this,"handlerTag",void 0),st(this,"config",{enabled:!1}),st(this,"tracker",new z),st(this,"activationIndex",0),st(this,"awaiting",!1),st(this,"active",!1),st(this,"shouldResetProgress",!1),st(this,"pointerType",H.MOUSE),st(this,"delegate",void 0),st(this,"sendEvent",((t,e)=>{const{onGestureHandlerEvent:i,onGestureHandlerStateChange:s}=this.propsRef.current,r=this.transformEventData(t,e);this.lastSentState!==t&&(this.lastSentState=t,rt(s,r)),this.currentState===n.ACTIVE&&(r.nativeEvent.oldState=void 0,rt(i,r))})),this.delegate=t}init(t,e){this.propsRef=e,this.viewRef=t,this.currentState=n.UNDETERMINED,this.delegate.init(t,this)}attachEventManager(t){t.setOnPointerDown(this.onPointerDown.bind(this)),t.setOnPointerAdd(this.onPointerAdd.bind(this)),t.setOnPointerUp(this.onPointerUp.bind(this)),t.setOnPointerRemove(this.onPointerRemove.bind(this)),t.setOnPointerMove(this.onPointerMove.bind(this)),t.setOnPointerEnter(this.onPointerEnter.bind(this)),t.setOnPointerLeave(this.onPointerLeave.bind(this)),t.setOnPointerCancel(this.onPointerCancel.bind(this)),t.setOnPointerOutOfBounds(this.onPointerOutOfBounds.bind(this)),t.setOnPointerMoveOver(this.onPointerMoveOver.bind(this)),t.setOnPointerMoveOut(this.onPointerMoveOut.bind(this)),t.setOnWheel(this.onWheel.bind(this)),t.registerListeners()}onCancel(){}onReset(){}resetProgress(){}reset(){this.tracker.resetTracker(),this.onReset(),this.resetProgress(),this.delegate.reset(),this.currentState=n.UNDETERMINED}moveToState(t,e){if(this.currentState===t)return;const i=this.currentState;this.currentState=t,this.tracker.getTrackedPointersCount()>0&&this.config.needsPointerData&&this.isFinished()&&this.cancelTouches(),J.getInstance().onHandlerStateChange(this,t,i,e),this.onStateChange(t,i),!this.enabled&&this.isFinished()&&(this.currentState=n.UNDETERMINED)}onStateChange(t,e){}begin(){this.checkHitSlop()&&this.currentState===n.UNDETERMINED&&this.moveToState(n.BEGAN)}fail(t){this.currentState!==n.ACTIVE&&this.currentState!==n.BEGAN||(this.delegate.onFail(),this.moveToState(n.FAILED,t)),this.resetProgress()}cancel(t){this.currentState!==n.ACTIVE&&this.currentState!==n.UNDETERMINED&&this.currentState!==n.BEGAN||(this.onCancel(),this.delegate.onCancel(),this.moveToState(n.CANCELLED,t))}activate(t=!1){!0===this.config.manualActivation&&!t||this.currentState!==n.UNDETERMINED&&this.currentState!==n.BEGAN||(this.delegate.onActivate(),this.moveToState(n.ACTIVE))}end(){this.currentState!==n.BEGAN&&this.currentState!==n.ACTIVE||(this.delegate.onEnd(),this.moveToState(n.END)),this.resetProgress()}isAwaiting(){return this.awaiting}setAwaiting(t){this.awaiting=t}isActive(){return this.active}setActive(t){this.active=t}getShouldResetProgress(){return this.shouldResetProgress}setShouldResetProgress(t){this.shouldResetProgress=t}getActivationIndex(){return this.activationIndex}setActivationIndex(t){this.activationIndex=t}shouldWaitForHandlerFailure(t){return t!==this&&Z.getInstance().shouldWaitForHandlerFailure(this,t)}shouldRequireToWaitForFailure(t){return t!==this&&Z.getInstance().shouldRequireHandlerToWaitForFailure(this,t)}shouldRecognizeSimultaneously(t){return t===this||Z.getInstance().shouldRecognizeSimultaneously(this,t)}shouldBeCancelledByOther(t){return t!==this&&Z.getInstance().shouldHandlerBeCancelledBy(this,t)}onPointerDown(t){J.getInstance().recordHandlerIfNotPresent(this),this.pointerType=t.pointerType,this.pointerType===H.TOUCH&&J.getInstance().cancelMouseAndPenGestures(this)}onPointerAdd(t){this.tryToSendTouchEvent(t)}onPointerUp(t){this.tryToSendTouchEvent(t)}onPointerRemove(t){this.tryToSendTouchEvent(t)}onPointerMove(t){this.tryToSendMoveEvent(!1,t)}onPointerLeave(t){if(this.shouldCancelWhenOutside)switch(this.currentState){case n.ACTIVE:this.cancel();break;case n.BEGAN:this.fail()}else this.tryToSendTouchEvent(t)}onPointerEnter(t){this.tryToSendTouchEvent(t)}onPointerCancel(t){this.tryToSendTouchEvent(t),this.cancel(),this.reset()}onPointerOutOfBounds(t){this.tryToSendMoveEvent(!0,t)}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}tryToSendMoveEvent(t,e){t&&this.shouldCancelWhenOutside||!this.enabled||(this.active&&this.sendEvent(this.currentState,this.currentState),this.tryToSendTouchEvent(e))}tryToSendTouchEvent(t){this.config.needsPointerData&&this.sendTouchEvent(t)}sendTouchEvent(t){if(!this.enabled)return;const{onGestureHandlerEvent:e}=this.propsRef.current,i=this.transformTouchEvent(t);i&&rt(e,i)}transformEventData(t,e){return{nativeEvent:{numberOfPointers:this.tracker.getTrackedPointersCount(),state:t,pointerInside:this.delegate.isPointerInBounds(this.tracker.getAbsoluteCoordsAverage()),...this.transformNativeEvent(),handlerTag:this.handlerTag,target:this.viewRef,oldState:t!==e?e:void 0,pointerType:this.pointerType},timeStamp:Date.now()}}transformTouchEvent(t){const e=this.delegate.measureView(),i=[],s=[],n=this.tracker.getData();if(0===n.size||!n.has(t.pointerId))return;n.forEach(((t,s)=>{const n=this.tracker.getMappedTouchEventId(s);i.push({id:n,x:t.abosoluteCoords.x-e.pageX,y:t.abosoluteCoords.y-e.pageY,absoluteX:t.abosoluteCoords.x,absoluteY:t.abosoluteCoords.y})})),t.eventType!==x.CANCEL?s.push({id:this.tracker.getMappedTouchEventId(t.pointerId),x:t.x-e.pageX,y:t.y-e.pageY,absoluteX:t.x,absoluteY:t.y}):n.forEach(((t,i)=>{const n=this.tracker.getMappedTouchEventId(i);s.push({id:n,x:t.abosoluteCoords.x-e.pageX,y:t.abosoluteCoords.y-e.pageY,absoluteX:t.abosoluteCoords.x,absoluteY:t.abosoluteCoords.y})}));let r=G.UNDETERMINED;switch(t.eventType){case x.DOWN:case x.ADDITIONAL_POINTER_DOWN:r=G.DOWN;break;case x.UP:case x.ADDITIONAL_POINTER_UP:r=G.UP;break;case x.MOVE:r=G.MOVE;break;case x.CANCEL:r=G.CANCELLED}let o=i.length;return t.eventType!==x.UP&&t.eventType!==x.ADDITIONAL_POINTER_UP||--o,{nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:r,changedTouches:s,allTouches:i,numberOfTouches:o,pointerType:this.pointerType},timeStamp:Date.now()}}cancelTouches(){const t=this.delegate.measureView(),e=[],i=[],s=this.tracker.getData();if(0===s.size)return;s.forEach(((s,n)=>{const r=this.tracker.getMappedTouchEventId(n);e.push({id:r,x:s.abosoluteCoords.x-t.pageX,y:s.abosoluteCoords.y-t.pageY,absoluteX:s.abosoluteCoords.x,absoluteY:s.abosoluteCoords.y}),i.push({id:r,x:s.abosoluteCoords.x-t.pageX,y:s.abosoluteCoords.y-t.pageY,absoluteX:s.abosoluteCoords.x,absoluteY:s.abosoluteCoords.y})}));const n={nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:G.CANCELLED,changedTouches:i,allTouches:e,numberOfTouches:e.length,pointerType:this.pointerType},timeStamp:Date.now()},{onGestureHandlerEvent:r}=this.propsRef.current;rt(r,n)}transformNativeEvent(){const t=this.tracker.getAbsoluteCoordsAverage(),e=this.tracker.getRelativeCoordsAverage();return{x:e.x,y:e.y,absoluteX:t.x,absoluteY:t.y}}updateGestureConfig({enabled:t=!0,...e}){if(this.config={enabled:t,...e},this.enabled=t,this.delegate.onEnabledChange(t),void 0!==this.config.shouldCancelWhenOutside&&this.setShouldCancelWhenOutside(this.config.shouldCancelWhenOutside),this.validateHitSlops(),!this.enabled)switch(this.currentState){case n.ACTIVE:this.fail(!0);break;case n.UNDETERMINED:J.getInstance().removeHandlerFromOrchestrator(this);break;default:this.cancel(!0)}}checkCustomActivationCriteria(t){for(const e in this.config)t.indexOf(e)>=0&&(this.hasCustomActivationCriteria=!0)}validateHitSlops(){if(this.config.hitSlop){if(void 0!==this.config.hitSlop.left&&void 0!==this.config.hitSlop.right&&void 0!==this.config.hitSlop.width)throw new Error("HitSlop Error: Cannot define left, right and width at the same time");if(void 0!==this.config.hitSlop.width&&void 0===this.config.hitSlop.left&&void 0===this.config.hitSlop.right)throw new Error("HitSlop Error: When width is defined, either left or right has to be defined");if(void 0!==this.config.hitSlop.height&&void 0!==this.config.hitSlop.top&&void 0!==this.config.hitSlop.bottom)throw new Error("HitSlop Error: Cannot define top, bottom and height at the same time");if(void 0!==this.config.hitSlop.height&&void 0===this.config.hitSlop.top&&void 0===this.config.hitSlop.bottom)throw new Error("HitSlop Error: When height is defined, either top or bottom has to be defined")}}checkHitSlop(){if(!this.config.hitSlop)return!0;const{width:t,height:e}=this.delegate.measureView();let i=0,s=0,n=t,r=e;void 0!==this.config.hitSlop.horizontal&&(i-=this.config.hitSlop.horizontal,n+=this.config.hitSlop.horizontal),void 0!==this.config.hitSlop.vertical&&(s-=this.config.hitSlop.vertical,r+=this.config.hitSlop.vertical),void 0!==this.config.hitSlop.left&&(i=-this.config.hitSlop.left),void 0!==this.config.hitSlop.right&&(n=t+this.config.hitSlop.right),void 0!==this.config.hitSlop.top&&(s=-this.config.hitSlop.top),void 0!==this.config.hitSlop.bottom&&(r=t+this.config.hitSlop.bottom),void 0!==this.config.hitSlop.width&&(void 0!==this.config.hitSlop.left?n=i+this.config.hitSlop.width:void 0!==this.config.hitSlop.right&&(i=n-this.config.hitSlop.width)),void 0!==this.config.hitSlop.height&&(void 0!==this.config.hitSlop.top?r=s+this.config.hitSlop.height:void 0!==this.config.hitSlop.bottom&&(s=r-this.config.hitSlop.height));const o=this.delegate.measureView(),{x:a,y:l}=this.tracker.getLastAbsoluteCoords(),h=a-o.pageX,u=l-o.pageY;return h>=i&&h<=n&&u>=s&&u<=r}isButtonInConfig(t){return!t||!this.config.mouseButton&&t===it.LEFT||this.config.mouseButton&&t&this.config.mouseButton}resetConfig(){}onDestroy(){this.delegate.destroy(this.config)}getTag(){return this.handlerTag}setTag(t){this.handlerTag=t}getConfig(){return this.config}getDelegate(){return this.delegate}getTracker(){return this.tracker}getTrackedPointersID(){return this.tracker.getTrackedPointersID()}getState(){return this.currentState}isEnabled(){return this.enabled}isFinished(){return this.currentState===n.END||this.currentState===n.FAILED||this.currentState===n.CANCELLED}setShouldCancelWhenOutside(t){this.shouldCancelWhenOutside=t}getShouldCancelWhenOutside(){return this.shouldCancelWhenOutside}getPointerType(){return this.pointerType}}function rt(t,e){if(!t)return;if("function"==typeof t)return void t(e);if("__getHandler"in t&&"function"==typeof t.__getHandler)return void rt(t.__getHandler(),e);if(!("__nodeConfig"in t))return;const{argMapping:i}=t.__nodeConfig;if(Array.isArray(i))for(const[s,[n,r]]of i.entries()){if(!(n in e.nativeEvent))continue;const i=e.nativeEvent[n];null!=r&&r.setValue?r.setValue(i):t.__nodeConfig.argMapping[s]=[n,i]}}function ot(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function at(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ht(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class ut{constructor(t){ht(this,"onScaleBegin",void 0),ht(this,"onScale",void 0),ht(this,"onScaleEnd",void 0),ht(this,"focusX",void 0),ht(this,"focusY",void 0),ht(this,"currentSpan",void 0),ht(this,"prevSpan",void 0),ht(this,"initialSpan",void 0),ht(this,"currentTime",void 0),ht(this,"prevTime",void 0),ht(this,"inProgress",!1),ht(this,"spanSlop",void 0),ht(this,"minSpan",void 0),this.onScaleBegin=t.onScaleBegin,this.onScale=t.onScale,this.onScaleEnd=t.onScaleEnd,this.spanSlop=30,this.minSpan=0}onTouchEvent(t,e){this.currentTime=t.time;const i=t.eventType,s=e.getTrackedPointersCount(),n=i===x.UP||i===x.ADDITIONAL_POINTER_UP||i===x.CANCEL;if((i===x.DOWN||n)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),n))return!0;const r=i===x.DOWN||i===x.ADDITIONAL_POINTER_UP||i===x.ADDITIONAL_POINTER_DOWN,o=i===x.ADDITIONAL_POINTER_UP,a=o?t.pointerId:void 0,l=o?s-1:s,h=e.getAbsoluteCoordsSum(),u=h.x/l,c=h.y/l;let d=0,f=0;e.getData().forEach(((t,e)=>{e!==a&&(d+=Math.abs(t.abosoluteCoords.x-u),f+=Math.abs(t.abosoluteCoords.y-c))}));const v=d/l*2,p=f/l*2,g=Math.hypot(v,p),m=this.inProgress;return this.focusX=u,this.focusY=c,this.inProgress&&(g<this.minSpan||r)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=g),r&&(this.initialSpan=this.prevSpan=this.currentSpan=g),!this.inProgress&&g>=this.minSpan&&(m||Math.abs(g-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this.currentSpan=g,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),i!==x.MOVE||(this.currentSpan=g,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}getCurrentSpan(){return this.currentSpan}getFocusX(){return this.focusX}getFocusY(){return this.focusY}getTimeDelta(){return this.currentTime-this.prevTime}getScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}}function ct(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class ft{constructor(t){dt(this,"onRotationBegin",void 0),dt(this,"onRotation",void 0),dt(this,"onRotationEnd",void 0),dt(this,"currentTime",0),dt(this,"previousTime",0),dt(this,"previousAngle",0),dt(this,"rotation",0),dt(this,"anchorX",0),dt(this,"anchorY",0),dt(this,"isInProgress",!1),dt(this,"keyPointers",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,e){this.previousTime=this.currentTime,this.currentTime=t.time;const[i,s]=this.keyPointers,n=e.getLastAbsoluteCoords(i),r=e.getLastAbsoluteCoords(s),o=r.x-n.x,a=r.y-n.y;this.anchorX=(n.x+r.x)/2,this.anchorY=(n.y+r.y)/2;const l=-Math.atan2(a,o);this.rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-l,this.previousAngle=l,this.rotation>Math.PI?this.rotation-=Math.PI:this.rotation<-Math.PI&&(this.rotation+=Math.PI),this.rotation>Math.PI/2?this.rotation-=Math.PI:this.rotation<-Math.PI/2&&(this.rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const e=t.getData().keys();this.keyPointers[0]=e.next().value,this.keyPointers[1]=e.next().value}onTouchEvent(t,e){switch(t.eventType){case x.DOWN:this.isInProgress=!1;break;case x.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=t.time,this.previousAngle=NaN,this.setKeyPointers(e),this.updateCurrent(t,e),this.onRotationBegin(this);break;case x.MOVE:if(!this.isInProgress)break;this.updateCurrent(t,e),this.onRotation(this);break;case x.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(t.pointerId)>=0&&this.finish();break;case x.UP:this.isInProgress&&this.finish()}return!0}getTimeDelta(){return this.currentTime+this.previousTime}getAnchorX(){return this.anchorX}getAnchorY(){return this.anchorY}getRotation(){return this.rotation}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}}function vt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const pt=Math.PI/36,gt={RIGHT:1,LEFT:2,UP:4,DOWN:8},mt={UP_RIGHT:5,DOWN_RIGHT:9,UP_LEFT:6,DOWN_LEFT:10};function Et(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Tt{constructor(t,e){Et(this,"x",void 0),Et(this,"y",void 0),Et(this,"unitX",void 0),Et(this,"unitY",void 0),Et(this,"_magnitude",void 0),this.x=t,this.y=e,this._magnitude=Math.hypot(this.x,this.y);const i=this._magnitude>.1;this.unitX=i?this.x/this._magnitude:0,this.unitY=i?this.y/this._magnitude:0}static fromDirection(t){var e;return null!==(e=yt.get(t))&&void 0!==e?e:new Tt(0,0)}static fromVelocity(t,e){const i=t.getVelocity(e);return new Tt(i.x,i.y)}get magnitude(){return this._magnitude}computeSimilarity(t){return this.unitX*t.unitX+this.unitY*t.unitY}isSimilar(t,e){return this.computeSimilarity(t)>e}}const yt=new Map([[gt.LEFT,new Tt(-1,0)],[gt.RIGHT,new Tt(1,0)],[gt.UP,new Tt(0,-1)],[gt.DOWN,new Tt(0,1)],[mt.UP_RIGHT,new Tt(1,-1)],[mt.DOWN_RIGHT,new Tt(1,1)],[mt.UP_LEFT,new Tt(-1,-1)],[mt.DOWN_LEFT,new Tt(-1,1)]]);function St(t,{x:e,y:i}){const s=t.getBoundingClientRect();return e>=s.left&&e<=s.right&&i>=s.top&&i<=s.bottom}const bt=new Map([["mouse",H.MOUSE],["touch",H.TOUCH],["pen",H.STYLUS],["none",H.OTHER]]),At=t=>Math.cos((t=>t*Math.PI/180)(t/2));function Pt(t){if(bt.get(t.pointerType)!==H.STYLUS)return;const e=t.azimuthAngle,i=t.altitudeAngle;if(0===t.tiltX&&0===t.tiltY){if(void 0===e||void 0===i)return{tiltX:0,tiltY:0,azimuthAngle:Math.PI/2,altitudeAngle:Math.PI/2,pressure:t.pressure};const{tiltX:s,tiltY:n}=function(t,e){const i=180/Math.PI;let s=0,n=0;if(0===t&&(0!==e&&e!==2*Math.PI||(s=Math.PI/2),e===Math.PI/2&&(n=Math.PI/2),e===Math.PI&&(s=-Math.PI/2),e===3*Math.PI/2&&(n=-Math.PI/2),e>0&&e<Math.PI/2&&(s=Math.PI/2,n=Math.PI/2),e>Math.PI/2&&e<Math.PI&&(s=-Math.PI/2,n=Math.PI/2),e>Math.PI&&e<3*Math.PI/2&&(s=-Math.PI/2,n=-Math.PI/2),e>3*Math.PI/2&&e<2*Math.PI&&(s=Math.PI/2,n=-Math.PI/2)),0!==t){const i=Math.tan(t);s=Math.atan(Math.cos(e)/i),n=Math.atan(Math.sin(e)/i)}return{tiltX:Math.round(s*i),tiltY:Math.round(n*i)}}(i,e);return{tiltX:s,tiltY:n,azimuthAngle:e,altitudeAngle:i,pressure:t.pressure}}const{altitudeAngle:s,azimuthAngle:n}=function(t,e){const i=t*Math.PI/180,s=e*Math.PI/180;let n=0;if(0===t)e>0?n=Math.PI/2:e<0&&(n=3*Math.PI/2);else if(0===e)t<0&&(n=Math.PI);else if(90===Math.abs(t)||90===Math.abs(e))n=0;else{const t=Math.tan(i),e=Math.tan(s);n=Math.atan2(e,t),n<0&&(n+=2*Math.PI)}let r=0;return r=90===Math.abs(t)||90===Math.abs(e)?0:0===t?Math.PI/2-Math.abs(s):0===e?Math.PI/2-Math.abs(i):Math.atan(1/Math.sqrt(Math.pow(Math.tan(i),2)+Math.pow(Math.tan(s),2))),{altitudeAngle:r,azimuthAngle:n}}(t.tiltX,t.tiltY);return{tiltX:t.tiltX,tiltY:t.tiltY,azimuthAngle:n,altitudeAngle:s,pressure:t.pressure}}const Ot=["Circle","ClipPath","Ellipse","ForeignObject","G","Image","Line","Marker","Mask","Path","Pattern","Polygon","Polyline","Rect","Svg","Symbol","TSpan","Text","TextPath","Use"];function wt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const Ct=gt.RIGHT,It=At(30),Nt=At(60);function Dt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Rt extends nt{constructor(...t){super(...t),Dt(this,"buttonRole",void 0),Dt(this,"shouldActivateOnStart",!1),Dt(this,"disallowInterruption",!1),Dt(this,"startX",0),Dt(this,"startY",0),Dt(this,"minDistSq",225)}init(t,e){if(super.init(t,e),this.setShouldCancelWhenOutside(!0),"web"!==C.default.OS)return;const i=this.delegate.getView();this.restoreViewStyles(i),this.buttonRole="button"===i.getAttribute("role")}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.shouldActivateOnStart&&(this.shouldActivateOnStart=this.config.shouldActivateOnStart),void 0!==this.config.disallowInterruption&&(this.disallowInterruption=this.config.disallowInterruption);const i=this.delegate.getView();this.restoreViewStyles(i)}restoreViewStyles(t){t&&(t.style.touchAction="auto",t.style.WebkitTouchCallout="auto")}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){const t=this.tracker.getAbsoluteCoordsAverage();if(this.startX=t.x,this.startY=t.y,this.currentState!==n.UNDETERMINED)return;this.begin();const e=this.delegate.getView().hasAttribute("rnghtext");(this.buttonRole||e)&&this.activate()}onPointerMove(t){this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage(),i=this.startX-e.x,s=this.startY-e.y;i*i+s*s>=this.minDistSq&&(this.buttonRole&&this.currentState===n.ACTIVE?this.cancel():this.buttonRole||this.currentState!==n.BEGAN||this.activate())}onPointerLeave(){this.currentState!==n.BEGAN&&this.currentState!==n.ACTIVE||this.cancel()}onPointerUp(t){super.onPointerUp(t),this.onUp(t)}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.tracker.removeFromTracker(t.pointerId),0===this.tracker.getTrackedPointersCount()&&(this.currentState===n.ACTIVE?this.end():this.fail())}shouldRecognizeSimultaneously(t){if(super.shouldRecognizeSimultaneously(t))return!0;if(t instanceof Rt&&t.getState()===n.ACTIVE&&t.disallowsInterruption())return!1;const e=!this.disallowInterruption;return(this.currentState!==n.ACTIVE||t.getState()!==n.ACTIVE||!e)&&this.currentState===n.ACTIVE&&e&&t.getTag()>0}shouldBeCancelledByOther(t){return!this.disallowInterruption}disallowsInterruption(){return this.disallowInterruption}isButton(){return this.buttonRole}}var Mt=i(86318),xt=i(4992);const Gt=Math.PI/180,kt={[Mt.Ay.INPUT_START]:n.BEGAN,[Mt.Ay.INPUT_MOVE]:n.ACTIVE,[Mt.Ay.INPUT_END]:n.END,[Mt.Ay.INPUT_CANCEL]:n.FAILED},Ht=(Mt.Ay.DIRECTION_RIGHT,Mt.Ay.DIRECTION_LEFT,Mt.Ay.DIRECTION_UP,Mt.Ay.DIRECTION_DOWN,Mt.Ay.INPUT_START,Mt.Ay.INPUT_MOVE,Mt.Ay.INPUT_END,Mt.Ay.INPUT_CANCEL,Mt.Ay.DIRECTION_HORIZONTAL,Mt.Ay.DIRECTION_UP,Mt.Ay.DIRECTION_DOWN,Mt.Ay.DIRECTION_VERTICAL,Mt.Ay.DIRECTION_NONE,Mt.Ay.DIRECTION_ALL,Mt.Ay.DIRECTION_RIGHT,Mt.Ay.DIRECTION_LEFT,{});function Xt(t){if(t in Ht)return Ht[t];throw new Error(`No handler for tag ${t}`)}const Ft="function"==typeof setImmediate?setImmediate.bind(null):"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(null):queueMicrotask.bind(null);function Yt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let Lt=0;function _t(t,e){if(t)if("function"==typeof t)t(e);else if("__getHandler"in t&&"function"==typeof t.__getHandler)_t(t.__getHandler(),e);else if("__nodeConfig"in t){const{argMapping:i}=t.__nodeConfig;if(Array.isArray(i))for(const[s,[n,r]]of i.entries())if(n in e.nativeEvent){const i=e.nativeEvent[n];r&&r.setValue?r.setValue(i):t.__nodeConfig.argMapping[s]=[n,i]}}}function Vt(t){return null==t?[]:Array.isArray(t)?t:[t]}const Ut=class{get id(){return`${this.name}${this.gestureInstance}`}get isNative(){return!1}get isDiscrete(){return!1}get shouldEnableGestureOnSetup(){throw new Error("Must override GestureHandler.shouldEnableGestureOnSetup")}constructor(){Yt(this,"handlerTag",void 0),Yt(this,"isGestureRunning",!1),Yt(this,"view",null),Yt(this,"hasCustomActivationCriteria",void 0),Yt(this,"hasGestureFailed",!1),Yt(this,"hammer",null),Yt(this,"initialRotation",null),Yt(this,"__initialX",void 0),Yt(this,"__initialY",void 0),Yt(this,"config",{}),Yt(this,"previousState",n.UNDETERMINED),Yt(this,"pendingGestures",{}),Yt(this,"oldState",n.UNDETERMINED),Yt(this,"lastSentState",null),Yt(this,"gestureInstance",void 0),Yt(this,"_stillWaiting",void 0),Yt(this,"propsRef",void 0),Yt(this,"ref",void 0),Yt(this,"clearSelfAsPending",(()=>{if(Array.isArray(this.config.waitFor))for(const t of this.config.waitFor)t.removePendingGesture(this.id)})),Yt(this,"destroy",(()=>{this.clearSelfAsPending(),this.hammer&&(this.hammer.stop(!1),this.hammer.destroy()),this.hammer=null})),Yt(this,"isPointInView",(({x:t,y:e})=>{const i=this.view.getBoundingClientRect();return t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom})),Yt(this,"sendEvent",(t=>{const{onGestureHandlerEvent:e,onGestureHandlerStateChange:i}=this.propsRef.current,s=this.transformEventData(t);_t(e,s),this.lastSentState!==s.nativeEvent.state&&(this.lastSentState=s.nativeEvent.state,_t(i,s))})),Yt(this,"sync",(()=>{const t=this.hammer.get(this.name);if(!t)return;const e=this.getHammerConfig();t.set({...e,enable:(t,e)=>{if(!this.config.enabled)return this.isGestureRunning=!1,this.hasGestureFailed=!1,!1;if(!e||!t.options||void 0===e.maxPointers)return this.shouldEnableGestureOnSetup;if(this.hasGestureFailed)return!1;if(!this.isDiscrete){if(this.isGestureRunning)return!0;if(this._stillWaiting=this._getPendingGestures(),this._stillWaiting.length){for(const t of this._stillWaiting)if(!t.isDiscrete&&t.isGestureRunning)return this.hasGestureFailed=!0,this.isGestureRunning=!1,!1;return!1}}if(!this.hasCustomActivationCriteria)return!0;const i=null==this.initialRotation?0:e.rotation-this.initialRotation,{success:s,failed:n}=this.isGestureEnabledForEvent(this.getConfig(),t,{...e,deltaRotation:i});return n&&(this.simulateCancelEvent(e),this.hasGestureFailed=!0),s}})})),this.gestureInstance=Lt++,this.hasCustomActivationCriteria=!1}getConfig(){return this.config}onWaitingEnded(t){}removePendingGesture(t){delete this.pendingGestures[t]}addPendingGesture(t){this.pendingGestures[t.id]=t}isGestureEnabledForEvent(t,e,i){return{success:!0}}get NativeGestureClass(){throw new Error("Must override GestureHandler.NativeGestureClass")}updateHasCustomActivationCriteria(t){return!0}updateGestureConfig({enabled:t=!0,...e}){if(this.clearSelfAsPending(),this.config=this.ensureConfig({enabled:t,...e}),this.hasCustomActivationCriteria=this.updateHasCustomActivationCriteria(this.config),Array.isArray(this.config.waitFor))for(const t of this.config.waitFor)t.addPendingGesture(this);return this.hammer&&this.sync(),this.config}getState(t){return 0==t?0:kt[t]}transformEventData(t){const{eventType:e,maxPointers:i}=t,s=t.changedPointers[0],n=this.isPointInView({x:s.clientX,y:s.clientY}),r=this.getState(e);return r!==this.previousState&&(this.oldState=this.previousState,this.previousState=r),{nativeEvent:{numberOfPointers:i,state:r,pointerInside:n,...this.transformNativeEvent(t),handlerTag:this.handlerTag,target:this.ref,oldState:r!==this.previousState||4!=r?this.oldState:void 0},timeStamp:Date.now()}}transformNativeEvent(t){return{}}cancelPendingGestures(t){for(const e of Object.values(this.pendingGestures))e&&e.isGestureRunning&&(e.hasGestureFailed=!0,e.cancelEvent(t))}notifyPendingGestures(){for(const t of Object.values(this.pendingGestures))t&&t.onWaitingEnded(this)}onGestureEnded(t){this.isGestureRunning=!1,this.cancelPendingGestures(t)}forceInvalidate(t){this.isGestureRunning&&(this.hasGestureFailed=!0,this.cancelEvent(t))}cancelEvent(t){this.notifyPendingGestures(),this.sendEvent({...t,eventType:Mt.Ay.INPUT_CANCEL,isFinal:!0}),this.onGestureEnded(t)}onRawEvent({isFirst:t}){t&&(this.hasGestureFailed=!1)}shouldUseTouchEvents(t){var e,i;return null!==(e=null===(i=t.simultaneousHandlers)||void 0===i?void 0:i.some((t=>t.isNative)))&&void 0!==e&&e}setView(t,e){if(null==t)return this.destroy(),void(this.view=null);const i="ontouchstart"in window;this.propsRef=e,this.ref=t,this.view=(0,xt.A)(t),this.hammer=i&&this.shouldUseTouchEvents(this.config)?new Mt.Ay.Manager(this.view,{inputClass:Mt.Ay.TouchInput}):new Mt.Ay.Manager(this.view),this.oldState=n.UNDETERMINED,this.previousState=n.UNDETERMINED,this.lastSentState=null;const{NativeGestureClass:s}=this,r=new s(this.getHammerConfig());this.hammer.add(r),this.hammer.on("hammer.input",(t=>{if(!this.config.enabled)return this.hasGestureFailed=!1,void(this.isGestureRunning=!1);this.onRawEvent(t),null===this.initialRotation&&0!==t.rotation&&(this.initialRotation=t.rotation),t.isFinal&&setTimeout((()=>{this.initialRotation=null,this.hasGestureFailed=!1}))})),this.setupEvents(),this.sync()}setupEvents(){this.isDiscrete||(this.hammer.on(`${this.name}start`,(t=>this.onStart(t))),this.hammer.on(`${this.name}end ${this.name}cancel`,(t=>{this.onGestureEnded(t)}))),this.hammer.on(this.name,(t=>this.onGestureActivated(t)))}onStart({deltaX:t,deltaY:e,rotation:i}){this.oldState=n.UNDETERMINED,this.previousState=n.UNDETERMINED,this.lastSentState=null,this.isGestureRunning=!0,this.__initialX=t,this.__initialY=e,this.initialRotation=i}onGestureActivated(t){this.sendEvent(t)}onSuccess(){}_getPendingGestures(){return Array.isArray(this.config.waitFor)&&this.config.waitFor.length?this.config.waitFor.filter((({hasGestureFailed:t})=>!1===t)):[]}getHammerConfig(){return{pointers:this.config.minPointers===this.config.maxPointers?this.config.minPointers:0}}simulateCancelEvent(t){}ensureConfig(t){const e={...t};if("minDist"in t&&(e.minDist=t.minDist,e.minDistSq=e.minDist*e.minDist),"minVelocity"in t&&(e.minVelocity=t.minVelocity,e.minVelocitySq=e.minVelocity*e.minVelocity),"maxDist"in t&&(e.maxDist=t.maxDist,e.maxDistSq=t.maxDist*t.maxDist),e.waitFor="waitFor"in t?Vt(t.waitFor).map((({handlerTag:t})=>Xt(t))).filter((t=>t)):null,"simultaneousHandlers"in t){const i=this.shouldUseTouchEvents(this.config);e.simultaneousHandlers=Vt(t.simultaneousHandlers).map((t=>Xt("number"==typeof t?t:t.handlerTag))).filter((t=>t)),i!==this.shouldUseTouchEvents(e)&&Ft((()=>{this.destroy(),this.setView(this.ref,this.propsRef)}))}else e.simultaneousHandlers=null;return["minPointers","maxPointers","minDist","maxDist","maxDistSq","minVelocitySq","minDistSq","minVelocity","failOffsetXStart","failOffsetYStart","failOffsetXEnd","failOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","activeOffsetYStart","activeOffsetYEnd"].forEach((t=>{void 0===e[t]&&(e[t]=Number.NaN)})),e}},Wt=t=>Number.isNaN(t),Bt=t=>"number"==typeof t&&!Number.isNaN(t),jt=(t,e)=>!Wt(e)&&(e<0&&t<=e||e>=0&&t>=e),qt=({x:t=0,y:e=0}={})=>t*t+e*e,zt=(t,e)=>!Wt(e)&&(e<0&&t<e||e>=0&&t>e);function $t(t,e){return e?setTimeout((()=>t()),e):(t(),null)}const Jt=class extends Ut{get isDiscrete(){return!0}get shouldEnableGestureOnSetup(){return!0}shouldFailUnderCustomCriteria({x:t,y:e,deltaX:i,deltaY:s},{maxDeltaX:n,maxDeltaY:r,maxDistSq:o,shouldCancelWhenOutside:a}){return!(!a||this.isPointInView({x:t,y:e}))||zt(Math.abs(i),n)||zt(Math.abs(s),r)||zt(Math.abs(s*s+i*i),o)}transformNativeEvent({center:{x:t,y:e}}){const i=this.view.getBoundingClientRect();return{absoluteX:t,absoluteY:e,x:t-i.left,y:e-i.top}}isGestureEnabledForEvent({minPointers:t,maxPointers:e,maxDeltaX:i,maxDeltaY:s,maxDistSq:n,shouldCancelWhenOutside:r},o,{maxPointers:a,center:l,deltaX:h,deltaY:u}){const c=a>=t&&a<=e;return this.shouldFailUnderCustomCriteria({...l,deltaX:h,deltaY:u},{maxDeltaX:i,maxDeltaY:s,maxDistSq:n,shouldCancelWhenOutside:r})||!c&&this.isGestureRunning?{failed:!0}:{success:c}}};function Kt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const Zt=class extends Jt{constructor(...t){super(...t),Kt(this,"visualFeedbackTimer",void 0),Kt(this,"initialEvent",null),Kt(this,"shouldDelayTouches",!0)}get name(){return"press"}get minDurationMs(){return Wt(this.config.minDurationMs)?5:this.config.minDurationMs}get maxDist(){return Wt(this.config.maxDist)?9:this.config.maxDist}get NativeGestureClass(){return Mt.Ay.Press}simulateCancelEvent(t){this.hasGestureFailed=!0,this.cancelEvent(t)}updateHasCustomActivationCriteria({shouldCancelWhenOutside:t,maxDistSq:e}){return t||!Bt(e)}getState(t){return{[Mt.Ay.INPUT_START]:n.BEGAN,[Mt.Ay.INPUT_MOVE]:n.ACTIVE,[Mt.Ay.INPUT_END]:n.END,[Mt.Ay.INPUT_CANCEL]:n.CANCELLED}[t]}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}onGestureActivated(t){this.onGestureStart(t)}shouldDelayTouchForEvent({pointerType:t}){return this.shouldDelayTouches&&"touch"===t}onGestureStart(t){this.isGestureRunning=!0,clearTimeout(this.visualFeedbackTimer),this.initialEvent=t,this.visualFeedbackTimer=$t((()=>{this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null}),this.shouldDelayTouchForEvent(t)&&240)}sendGestureStartedEvent(t){clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.sendEvent({...t,eventType:Mt.Ay.INPUT_MOVE,isFirst:!0})}forceInvalidate(t){super.forceInvalidate(t),clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.initialEvent=null}onRawEvent(t){if(super.onRawEvent(t),this.isGestureRunning)if(t.isFinal){let e;this.visualFeedbackTimer&&(e=50,this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null),$t((()=>{this.sendEvent({...t,eventType:Mt.Ay.INPUT_END,isFinal:!0}),this.onGestureEnded()}),e)}else this.sendEvent({...t,eventType:Mt.Ay.INPUT_MOVE,isFinal:!1})}updateGestureConfig({shouldActivateOnStart:t=!1,disallowInterruption:e=!1,shouldCancelWhenOutside:i=!0,minDurationMs:s=Number.NaN,maxDist:n=Number.NaN,minPointers:r=1,maxPointers:o=1,...a}){return super.updateGestureConfig({shouldActivateOnStart:t,disallowInterruption:e,shouldCancelWhenOutside:i,minDurationMs:s,maxDist:n,minPointers:r,maxPointers:o,...a})}};var Qt=i(99518);const te=class extends Ut{get shouldEnableGestureOnSetup(){return!0}transformNativeEvent({deltaX:t,deltaY:e,velocityX:i,velocityY:s,center:{x:n,y:r}}){const o=this.view.getBoundingClientRect(),a=Qt.A.get();return{translationX:t-(this.__initialX||0),translationY:e-(this.__initialY||0),absoluteX:n,absoluteY:r,velocityX:i*a,velocityY:s*a,x:n-o.left,y:r-o.top}}};function ee(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const ie=class extends Ut{get shouldEnableGestureOnSetup(){return!1}updateGestureConfig({minPointers:t=2,maxPointers:e=2,...i}){return super.updateGestureConfig({minPointers:t,maxPointers:e,...i})}isGestureEnabledForEvent({minPointers:t,maxPointers:e},i,{maxPointers:s}){return s>e?{failed:!0}:{success:s>=t}}};class se extends Error{constructor(t,e,i){super(`Invalid property \`${t}: ${e}\` expected \`${i}\``)}}const ne={NativeViewGestureHandler:Rt,PanGestureHandler:class extends nt{constructor(...t){super(...t),ot(this,"customActivationProperties",["activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY","minVelocity"]),ot(this,"velocityX",0),ot(this,"velocityY",0),ot(this,"minDistSq",225),ot(this,"activeOffsetXStart",-Number.MAX_SAFE_INTEGER),ot(this,"activeOffsetXEnd",Number.MIN_SAFE_INTEGER),ot(this,"failOffsetXStart",Number.MIN_SAFE_INTEGER),ot(this,"failOffsetXEnd",Number.MAX_SAFE_INTEGER),ot(this,"activeOffsetYStart",Number.MAX_SAFE_INTEGER),ot(this,"activeOffsetYEnd",Number.MIN_SAFE_INTEGER),ot(this,"failOffsetYStart",Number.MIN_SAFE_INTEGER),ot(this,"failOffsetYEnd",Number.MAX_SAFE_INTEGER),ot(this,"minVelocityX",Number.MAX_SAFE_INTEGER),ot(this,"minVelocityY",Number.MAX_SAFE_INTEGER),ot(this,"minVelocitySq",Number.MAX_SAFE_INTEGER),ot(this,"minPointers",1),ot(this,"maxPointers",10),ot(this,"startX",0),ot(this,"startY",0),ot(this,"offsetX",0),ot(this,"offsetY",0),ot(this,"lastX",0),ot(this,"lastY",0),ot(this,"stylusData",void 0),ot(this,"activateAfterLongPress",0),ot(this,"activationTimeout",0),ot(this,"enableTrackpadTwoFingerGesture",!1),ot(this,"endWheelTimeout",0),ot(this,"wheelDevice",k.UNDETERMINED)}updateGestureConfig({enabled:t=!0,...e}){this.resetConfig(),super.updateGestureConfig({enabled:t,...e}),this.checkCustomActivationCriteria(this.customActivationProperties),void 0!==this.config.minDist?this.minDistSq=this.config.minDist*this.config.minDist:this.hasCustomActivationCriteria&&(this.minDistSq=Number.MAX_SAFE_INTEGER),void 0!==this.config.minPointers&&(this.minPointers=this.config.minPointers),void 0!==this.config.maxPointers&&(this.maxPointers=this.config.maxPointers),void 0!==this.config.minVelocity&&(this.minVelocityX=this.config.minVelocity,this.minVelocityY=this.config.minVelocity),void 0!==this.config.minVelocityX&&(this.minVelocityX=this.config.minVelocityX),void 0!==this.config.minVelocityY&&(this.minVelocityY=this.config.minVelocityY),void 0!==this.config.activateAfterLongPress&&(this.activateAfterLongPress=this.config.activateAfterLongPress),void 0!==this.config.activeOffsetXStart&&(this.activeOffsetXStart=this.config.activeOffsetXStart,void 0===this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=this.config.activeOffsetXEnd,void 0===this.config.activeOffsetXStart&&(this.activeOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetXStart&&(this.failOffsetXStart=this.config.failOffsetXStart,void 0===this.config.failOffsetXEnd&&(this.failOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetXEnd&&(this.failOffsetXEnd=this.config.failOffsetXEnd,void 0===this.config.failOffsetXStart&&(this.failOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.activeOffsetYStart&&(this.activeOffsetYStart=this.config.activeOffsetYStart,void 0===this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=this.config.activeOffsetYEnd,void 0===this.config.activeOffsetYStart&&(this.activeOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetYStart&&(this.failOffsetYStart=this.config.failOffsetYStart,void 0===this.config.failOffsetYEnd&&(this.failOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetYEnd&&(this.failOffsetYEnd=this.config.failOffsetYEnd,void 0===this.config.failOffsetYStart&&(this.failOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.enableTrackpadTwoFingerGesture&&(this.enableTrackpadTwoFingerGesture=this.config.enableTrackpadTwoFingerGesture)}resetConfig(){super.resetConfig(),this.activeOffsetXStart=-Number.MAX_SAFE_INTEGER,this.activeOffsetXEnd=Number.MIN_SAFE_INTEGER,this.failOffsetXStart=Number.MIN_SAFE_INTEGER,this.failOffsetXEnd=Number.MAX_SAFE_INTEGER,this.activeOffsetYStart=Number.MAX_SAFE_INTEGER,this.activeOffsetYEnd=Number.MIN_SAFE_INTEGER,this.failOffsetYStart=Number.MIN_SAFE_INTEGER,this.failOffsetYEnd=Number.MAX_SAFE_INTEGER,this.minVelocityX=Number.MAX_SAFE_INTEGER,this.minVelocityY=Number.MAX_SAFE_INTEGER,this.minVelocitySq=Number.MAX_SAFE_INTEGER,this.minDistSq=225,this.minPointers=1,this.maxPointers=10,this.activateAfterLongPress=0}transformNativeEvent(){const t=this.getTranslationX(),e=this.getTranslationY();return{...super.transformNativeEvent(),translationX:isNaN(t)?0:t,translationY:isNaN(e)?0:e,velocityX:this.velocityX,velocityY:this.velocityY,stylusData:this.stylusData}}getTranslationX(){return this.lastX-this.startX+this.offsetX}getTranslationY(){return this.lastY-this.startY+this.offsetY}clearActivationTimeout(){clearTimeout(this.activationTimeout)}onPointerDown(t){if(!this.isButtonInConfig(t.button))return;this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerDown(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.tryBegin(t),this.checkBegan(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.tracker.getTrackedPointersCount()>this.maxPointers?this.currentState===n.ACTIVE?this.cancel():this.fail():this.checkBegan()}onPointerUp(t){if(this.stylusData=t.stylusData,super.onPointerUp(t),this.currentState===n.ACTIVE){const t=this.tracker.getAbsoluteCoordsAverage();this.lastX=t.x,this.lastY=t.y}this.tracker.removeFromTracker(t.pointerId),0===this.tracker.getTrackedPointersCount()&&this.clearActivationTimeout(),this.currentState===n.ACTIVE?this.end():(this.resetProgress(),this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.currentState===n.ACTIVE&&this.tracker.getTrackedPointersCount()<this.minPointers||this.checkBegan()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.checkBegan(),super.onPointerMove(t)}onPointerOutOfBounds(t){if(this.getShouldCancelWhenOutside())return;this.tracker.track(t),this.stylusData=t.stylusData;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.checkBegan(),this.currentState===n.ACTIVE&&super.onPointerOutOfBounds(t)}scheduleWheelEnd(t){clearTimeout(this.endWheelTimeout),this.endWheelTimeout=setTimeout((()=>{this.currentState===n.ACTIVE&&(this.end(),this.tracker.removeFromTracker(t.pointerId),this.currentState=n.UNDETERMINED),this.wheelDevice=k.UNDETERMINED}),30)}onWheel(t){if(this.wheelDevice===k.MOUSE||!this.enableTrackpadTwoFingerGesture)return;if(this.currentState===n.UNDETERMINED){if(this.wheelDevice=t.wheelDeltaY%120!=0?k.TOUCHPAD:k.MOUSE,this.wheelDevice===k.MOUSE)return void this.scheduleWheelEnd(t);this.tracker.addToTracker(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.begin(),this.activate()}this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y;const i=this.tracker.getVelocity(t.pointerId);this.velocityX=i.x,this.velocityY=i.y,this.tryToSendMoveEvent(!1,t),this.scheduleWheelEnd(t)}shouldActivate(){const t=this.getTranslationX();if(this.activeOffsetXStart!==Number.MAX_SAFE_INTEGER&&t<this.activeOffsetXStart)return!0;if(this.activeOffsetXEnd!==Number.MIN_SAFE_INTEGER&&t>this.activeOffsetXEnd)return!0;const e=this.getTranslationY();if(this.activeOffsetYStart!==Number.MAX_SAFE_INTEGER&&e<this.activeOffsetYStart)return!0;if(this.activeOffsetYEnd!==Number.MIN_SAFE_INTEGER&&e>this.activeOffsetYEnd)return!0;const i=t*t+e*e;if(this.minDistSq!==Number.MAX_SAFE_INTEGER&&i>=this.minDistSq)return!0;const s=this.velocityX;if(this.minVelocityX!==Number.MAX_SAFE_INTEGER&&(this.minVelocityX<0&&s<=this.minVelocityX||this.minVelocityX>=0&&this.minVelocityX<=s))return!0;const n=this.velocityY;if(this.minVelocityY!==Number.MAX_SAFE_INTEGER&&(this.minVelocityY<0&&n<=this.minVelocityY||this.minVelocityY>=0&&this.minVelocityY<=n))return!0;const r=s*s+n*n;return this.minVelocitySq!==Number.MAX_SAFE_INTEGER&&r>=this.minVelocitySq}shouldFail(){const t=this.getTranslationX(),e=this.getTranslationY(),i=t*t+e*e;return this.activateAfterLongPress>0&&i>225?(this.clearActivationTimeout(),!0):this.failOffsetXStart!==Number.MIN_SAFE_INTEGER&&t<this.failOffsetXStart||this.failOffsetXEnd!==Number.MAX_SAFE_INTEGER&&t>this.failOffsetXEnd||this.failOffsetYStart!==Number.MIN_SAFE_INTEGER&&e<this.failOffsetYStart||this.failOffsetYEnd!==Number.MAX_SAFE_INTEGER&&e>this.failOffsetYEnd}tryBegin(t){if(this.currentState===n.UNDETERMINED&&this.tracker.getTrackedPointersCount()>=this.minPointers)this.resetProgress(),this.offsetX=0,this.offsetY=0,this.velocityX=0,this.velocityY=0,this.begin(),this.activateAfterLongPress>0&&(this.activationTimeout=setTimeout((()=>{this.activate()}),this.activateAfterLongPress));else{const e=this.tracker.getVelocity(t.pointerId);this.velocityX=e.x,this.velocityY=e.y}}checkBegan(){this.currentState===n.BEGAN&&(this.shouldFail()?this.fail():this.shouldActivate()&&this.activate())}activate(t=!1){this.currentState!==n.ACTIVE&&this.resetProgress(),super.activate(t)}onCancel(){this.clearActivationTimeout()}onReset(){this.clearActivationTimeout()}resetProgress(){this.currentState!==n.ACTIVE&&(this.startX=this.lastX,this.startY=this.lastY)}},TapGestureHandler:class extends nt{constructor(...t){super(...t),at(this,"maxDeltaX",Number.MIN_SAFE_INTEGER),at(this,"maxDeltaY",Number.MIN_SAFE_INTEGER),at(this,"maxDistSq",Number.MIN_SAFE_INTEGER),at(this,"maxDurationMs",500),at(this,"maxDelayMs",500),at(this,"numberOfTaps",1),at(this,"minNumberOfPointers",1),at(this,"currentMaxNumberOfPointers",1),at(this,"startX",0),at(this,"startY",0),at(this,"offsetX",0),at(this,"offsetY",0),at(this,"lastX",0),at(this,"lastY",0),at(this,"waitTimeout",void 0),at(this,"delayTimeout",void 0),at(this,"tapsSoFar",0)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.numberOfTaps&&(this.numberOfTaps=this.config.numberOfTaps),void 0!==this.config.maxDurationMs&&(this.maxDurationMs=this.config.maxDurationMs),void 0!==this.config.maxDelayMs&&(this.maxDelayMs=this.config.maxDelayMs),void 0!==this.config.maxDeltaX&&(this.maxDeltaX=this.config.maxDeltaX),void 0!==this.config.maxDeltaY&&(this.maxDeltaY=this.config.maxDeltaY),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.minPointers&&(this.minNumberOfPointers=this.config.minPointers)}resetConfig(){super.resetConfig(),this.maxDeltaX=Number.MIN_SAFE_INTEGER,this.maxDeltaY=Number.MIN_SAFE_INTEGER,this.maxDistSq=Number.MIN_SAFE_INTEGER,this.maxDurationMs=500,this.maxDelayMs=500,this.numberOfTaps=1,this.minNumberOfPointers=1}clearTimeouts(){clearTimeout(this.waitTimeout),clearTimeout(this.delayTimeout)}startTap(){this.clearTimeouts(),this.waitTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}endTap(){this.clearTimeouts(),++this.tapsSoFar===this.numberOfTaps&&this.currentMaxNumberOfPointers>=this.minNumberOfPointers?this.activate():this.delayTimeout=setTimeout((()=>this.fail()),this.maxDelayMs)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.trySettingPosition(t),this.startX=t.x,this.startY=t.y,this.lastX=t.x,this.lastY=t.y,this.updateState(t),this.tryToSendTouchEvent(t))}onPointerAdd(t){super.onPointerAdd(t),this.tracker.addToTracker(t),this.trySettingPosition(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=e.x,this.startY=e.y,this.updateState(t)}onPointerUp(t){super.onPointerUp(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.tracker.removeFromTracker(t.pointerId),this.updateState(t)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY=this.startY;const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.startX=this.lastX,this.startY=this.lastY,this.updateState(t)}onPointerMove(t){this.trySettingPosition(t),this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.updateState(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.trySettingPosition(t),this.tracker.track(t);const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y,this.updateState(t),super.onPointerOutOfBounds(t)}updateState(t){if(this.currentMaxNumberOfPointers<this.tracker.getTrackedPointersCount()&&(this.currentMaxNumberOfPointers=this.tracker.getTrackedPointersCount()),this.shouldFail())this.fail();else switch(this.currentState){case n.UNDETERMINED:t.eventType===x.DOWN&&this.begin(),this.startTap();break;case n.BEGAN:t.eventType===x.UP&&this.endTap(),t.eventType===x.DOWN&&this.startTap()}}trySettingPosition(t){this.currentState===n.UNDETERMINED&&(this.offsetX=0,this.offsetY=0,this.startX=t.x,this.startY=t.y)}shouldFail(){const t=this.lastX-this.startX+this.offsetX;if(this.maxDeltaX!==Number.MIN_SAFE_INTEGER&&Math.abs(t)>this.maxDeltaX)return!0;const e=this.lastY-this.startY+this.offsetY;if(this.maxDeltaY!==Number.MIN_SAFE_INTEGER&&Math.abs(e)>this.maxDeltaY)return!0;const i=e*e+t*t;return this.maxDistSq!==Number.MIN_SAFE_INTEGER&&i>this.maxDistSq}activate(){super.activate(),this.end()}onCancel(){this.resetProgress(),this.clearTimeouts()}resetProgress(){this.clearTimeouts(),this.tapsSoFar=0,this.currentMaxNumberOfPointers=0}},LongPressGestureHandler:class extends nt{constructor(...t){super(...t),lt(this,"minDurationMs",500),lt(this,"defaultMaxDistSq",100),lt(this,"maxDistSq",this.defaultMaxDistSq),lt(this,"numberOfPointers",1),lt(this,"startX",0),lt(this,"startY",0),lt(this,"startTime",0),lt(this,"previousTime",0),lt(this,"activationTimeout",void 0)}init(t,e){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.getTrackedPointersCount()>this.numberOfPointers)return void this.fail();const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===n.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.getTrackedPointersCount()<this.numberOfPointers&&this.getState()!==n.ACTIVE&&this.fail()}tryBegin(){this.currentState===n.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.getTrackedPointersCount()===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout((()=>{this.activate()}),this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),e=t.x-this.startX,i=t.y-this.startY;e*e+i*i<=this.maxDistSq||(this.currentState===n.ACTIVE?this.cancel():this.fail())}},PinchGestureHandler:class extends nt{constructor(...t){super(...t),ct(this,"scale",1),ct(this,"velocity",0),ct(this,"startingSpan",0),ct(this,"spanSlop",15),ct(this,"scaleDetectorListener",{onScaleBegin:t=>(this.startingSpan=t.getCurrentSpan(),!0),onScale:t=>{const e=this.scale;this.scale*=t.getScaleFactor(this.tracker.getTrackedPointersCount());const i=t.getTimeDelta();return i>0&&(this.velocity=(this.scale-e)/i),Math.abs(this.startingSpan-t.getCurrentSpan())>=this.spanSlop&&this.currentState===n.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}}),ct(this,"scaleGestureDetector",new ut(this.scaleDetectorListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}transformNativeEvent(){return{focalX:this.scaleGestureDetector.getFocusX(),focalY:this.scaleGestureDetector.getFocusY(),velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===n.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.currentState===n.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.currentState===n.ACTIVE&&this.tracker.getTrackedPointersCount()<2&&this.end()}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.currentState===n.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.currentState!==n.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.currentState!==n.ACTIVE&&(this.velocity=0,this.scale=1)}},RotationGestureHandler:class extends nt{constructor(...t){super(...t),vt(this,"rotation",0),vt(this,"velocity",0),vt(this,"cachedAnchorX",0),vt(this,"cachedAnchorY",0),vt(this,"rotationGestureListener",{onRotationBegin:t=>!0,onRotation:t=>{const e=this.rotation;this.rotation+=t.getRotation();const i=t.getTimeDelta();return i>0&&(this.velocity=(this.rotation-e)/i),Math.abs(this.rotation)>=pt&&this.currentState===n.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}}),vt(this,"rotationGestureDetector",new ft(this.rotationGestureListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){return this.rotationGestureDetector.getAnchorX()||this.cachedAnchorX}getAnchorY(){return this.rotationGestureDetector.getAnchorY()||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.currentState===n.ACTIVE&&(this.currentState===n.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.currentState===n.UNDETERMINED&&this.begin()}onReset(){this.currentState!==n.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}},FlingGestureHandler:class extends nt{constructor(...t){super(...t),wt(this,"numberOfPointersRequired",1),wt(this,"direction",Ct),wt(this,"maxDurationMs",800),wt(this,"minVelocity",700),wt(this,"delayTimeout",void 0),wt(this,"maxNumberOfPointersSimultaneously",0),wt(this,"keyPointer",NaN)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}tryEndFling(){const t=Tt.fromVelocity(this.tracker,this.keyPointer),e=(e,i)=>(e&this.direction)===e&&t.isSimilar(Tt.fromDirection(e),i),i=Object.values(gt),s=Object.values(mt),n=i.map((t=>e(t,It))),r=s.map((t=>e(t,Nt))),o=n.some(Boolean)||r.some(Boolean),a=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!o||!a||(clearTimeout(this.delayTimeout),this.activate(),0))}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.currentState===n.UNDETERMINED&&this.startFling(),this.currentState===n.BEGAN&&(this.tryEndFling(),this.tracker.getTrackedPointersCount()>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.getTrackedPointersCount()))}pointerMoveAction(t){this.tracker.track(t),this.currentState===n.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.currentState===n.BEGAN&&this.endFling(),this.tracker.removeFromTracker(t.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=Ct}},ManualGestureHandler:class extends nt{onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.begin(),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t)}onPointerMove(t){this.tracker.track(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.tracker.track(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId)}},HoverGestureHandler:class extends nt{constructor(...t){super(...t),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"stylusData",void 0)}transformNativeEvent(){return{...super.transformNativeEvent(),stylusData:this.stylusData}}onPointerMoveOver(t){J.getInstance().recordHandlerIfNotPresent(this),this.tracker.addToTracker(t),this.stylusData=t.stylusData,super.onPointerMoveOver(t),this.getState()===n.UNDETERMINED&&(this.begin(),this.activate())}onPointerMoveOut(t){this.tracker.removeFromTracker(t.pointerId),this.stylusData=t.stylusData,super.onPointerMoveOut(t),this.end()}onPointerMove(t){this.tracker.track(t),this.stylusData=t.stylusData,super.onPointerMove(t)}onPointerCancel(t){super.onPointerCancel(t),this.reset()}}},re={NativeViewGestureHandler:class extends Zt{get isNative(){return!0}onRawEvent(t){if(super.onRawEvent(t),!t.isFinal&&jt(qt({x:t.deltaX,y:t.deltaY}),10)&&this.config.disallowInterruption){const e=Object.values({...Ht}).filter((t=>{const{handlerTag:e,view:i,isGestureRunning:s}=t;return e!==this.handlerTag&&s&&t instanceof Jt&&i&&this.view.contains(i)}));for(const i of e)i.forceInvalidate(t)}}},PanGestureHandler:class extends te{get name(){return"pan"}get NativeGestureClass(){return Mt.Ay.Pan}getHammerConfig(){return{...super.getHammerConfig(),direction:this.getDirection()}}getState(t){const e=super.getState(t);return this.previousState===n.UNDETERMINED&&e===n.ACTIVE?n.BEGAN:e}getDirection(){const t=this.getConfig(),{activeOffsetXStart:e,activeOffsetXEnd:i,activeOffsetYStart:s,activeOffsetYEnd:n,minDist:r}=t;let o=[],a=[];if(!Wt(r))return Mt.Ay.DIRECTION_ALL;Wt(e)||a.push(Mt.Ay.DIRECTION_LEFT),Wt(i)||a.push(Mt.Ay.DIRECTION_RIGHT),2===a.length&&(a=[Mt.Ay.DIRECTION_HORIZONTAL]),o=o.concat(a);let l=[];return Wt(s)||l.push(Mt.Ay.DIRECTION_UP),Wt(n)||l.push(Mt.Ay.DIRECTION_DOWN),2===l.length&&(l=[Mt.Ay.DIRECTION_VERTICAL]),o=o.concat(l),o.length?o[0]===Mt.Ay.DIRECTION_HORIZONTAL&&o[1]===Mt.Ay.DIRECTION_VERTICAL||a.length&&l.length?Mt.Ay.DIRECTION_ALL:o[0]:Mt.Ay.DIRECTION_NONE}getConfig(){return this.hasCustomActivationCriteria?this.config:{minDistSq:10}}shouldFailUnderCustomCriteria({deltaX:t,deltaY:e},i){return!Wt(i.failOffsetXStart)&&t<i.failOffsetXStart||!Wt(i.failOffsetXEnd)&&t>i.failOffsetXEnd||!Wt(i.failOffsetYStart)&&e<i.failOffsetYStart||!Wt(i.failOffsetYEnd)&&e>i.failOffsetYEnd}shouldActivateUnderCustomCriteria({deltaX:t,deltaY:e,velocity:i},s){return!Wt(s.activeOffsetXStart)&&t<s.activeOffsetXStart||!Wt(s.activeOffsetXEnd)&&t>s.activeOffsetXEnd||!Wt(s.activeOffsetYStart)&&e<s.activeOffsetYStart||!Wt(s.activeOffsetYEnd)&&e>s.activeOffsetYEnd||jt(qt({x:t,y:e}),s.minDistSq)||jt(i.x,s.minVelocityX)||jt(i.y,s.minVelocityY)||jt(qt(i),s.minVelocitySq)}shouldMultiFingerPanFail({pointerLength:t,scale:e,deltaRotation:i}){if(t<=1)return!1;const s=Math.abs(e-1),n=Math.abs(i);return s>.1||n>7}updateHasCustomActivationCriteria(t){return Bt(t.minDistSq)||Bt(t.minVelocityX)||Bt(t.minVelocityY)||Bt(t.minVelocitySq)||Bt(t.activeOffsetXStart)||Bt(t.activeOffsetXEnd)||Bt(t.activeOffsetYStart)||Bt(t.activeOffsetYEnd)}isGestureEnabledForEvent(t,e,i){if(this.shouldFailUnderCustomCriteria(i,t))return{failed:!0};const s={x:i.velocityX,y:i.velocityY};return this.hasCustomActivationCriteria&&this.shouldActivateUnderCustomCriteria({deltaX:i.deltaX,deltaY:i.deltaY,velocity:s},t)?this.shouldMultiFingerPanFail({pointerLength:i.maxPointers,scale:i.scale,deltaRotation:i.deltaRotation})?{failed:!0}:{success:!0}:{success:!1}}},TapGestureHandler:class extends Jt{constructor(...t){super(...t),ee(this,"_shouldFireEndEvent",null),ee(this,"_timer",void 0),ee(this,"_multiTapTimer",void 0),ee(this,"onSuccessfulTap",(t=>{this._getPendingGestures().length?this._shouldFireEndEvent=t:(t.eventType===Mt.Ay.INPUT_END&&this.sendEvent({...t,eventType:Mt.Ay.INPUT_MOVE}),this.sendEvent({...t,isFinal:!0}),this.onGestureEnded(t))}))}get name(){return"tap"}get NativeGestureClass(){return Mt.Ay.Tap}get maxDelayMs(){return Wt(this.config.maxDelayMs)?300:this.config.maxDelayMs}simulateCancelEvent(t){this.isGestureRunning&&this.cancelEvent(t)}onGestureActivated(t){this.isGestureRunning&&this.onSuccessfulTap(t)}onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed&&!this.isGestureRunning&&!t.isFinal){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}if(t.isFinal&&t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),!this.hasGestureFailed)if(t.isFinal)t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),clearTimeout(this._timer),this._timer=setTimeout((()=>{this.hasGestureFailed=!0,this.cancelEvent(t)}),this.maxDelayMs);else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{...super.getHammerConfig(),event:this.name,taps:Wt(this.config.numberOfTaps)?1:this.config.numberOfTaps,interval:this.maxDelayMs,time:Wt(this.config.maxDurationMs)||null==this.config.maxDurationMs?250:this.config.maxDurationMs}}updateGestureConfig({shouldCancelWhenOutside:t=!0,maxDeltaX:e=Number.NaN,maxDeltaY:i=Number.NaN,numberOfTaps:s=1,minDurationMs:n=525,maxDelayMs:r=Number.NaN,maxDurationMs:o=Number.NaN,maxDist:a=2,minPointers:l=1,maxPointers:h=1,...u}){return super.updateGestureConfig({shouldCancelWhenOutside:t,numberOfTaps:s,maxDeltaX:e,maxDeltaY:i,minDurationMs:n,maxDelayMs:r,maxDist:a,minPointers:l,maxPointers:h,...u})}onGestureEnded(...t){clearTimeout(this._timer),super.onGestureEnded(...t)}onWaitingEnded(t){this._shouldFireEndEvent&&(this.onSuccessfulTap(this._shouldFireEndEvent),this._shouldFireEndEvent=null)}},LongPressGestureHandler:class extends Zt{get minDurationMs(){return Wt(this.config.minDurationMs)?251:this.config.minDurationMs}get maxDist(){return Wt(this.config.maxDist)?9:this.config.maxDist}updateHasCustomActivationCriteria({maxDistSq:t}){return!Bt(t)}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}getState(t){return{[Mt.Ay.INPUT_START]:n.ACTIVE,[Mt.Ay.INPUT_MOVE]:n.ACTIVE,[Mt.Ay.INPUT_END]:n.END,[Mt.Ay.INPUT_CANCEL]:n.FAILED}[t]}},PinchGestureHandler:class extends ie{get name(){return"pinch"}get NativeGestureClass(){return Mt.Ay.Pinch}transformNativeEvent({scale:t,velocity:e,center:i}){return{focalX:i.x,focalY:i.y,velocity:e,scale:t}}},RotationGestureHandler:class extends ie{get name(){return"rotate"}get NativeGestureClass(){return Mt.Ay.Rotate}transformNativeEvent({rotation:t,velocity:e,center:i}){var s;return{rotation:(t-(null!==(s=this.initialRotation)&&void 0!==s?s:0))*Gt,anchorX:i.x,anchorY:i.y,velocity:e}}},FlingGestureHandler:class extends te{get name(){return"swipe"}get NativeGestureClass(){return Mt.Ay.Swipe}onGestureActivated(t){this.sendEvent({...t,eventType:Mt.Ay.INPUT_MOVE,isFinal:!1,isFirst:!0}),this.isGestureRunning=!1,this.hasGestureFailed=!1,this.sendEvent({...t,eventType:Mt.Ay.INPUT_END,isFinal:!0})}onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed)if(t.isFinal)setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)}));else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{pointers:this.config.numberOfPointers,direction:this.getDirection()}}getTargetDirections(t){const e=[];return 1&t&&e.push(Mt.Ay.DIRECTION_RIGHT),2&t&&e.push(Mt.Ay.DIRECTION_LEFT),4&t&&e.push(Mt.Ay.DIRECTION_UP),8&t&&e.push(Mt.Ay.DIRECTION_DOWN),e}getDirection(){const{direction:t}=this.getConfig();let e=[];return 1&t&&e.push(Mt.Ay.DIRECTION_HORIZONTAL),2&t&&e.push(Mt.Ay.DIRECTION_HORIZONTAL),4&t&&e.push(Mt.Ay.DIRECTION_VERTICAL),8&t&&e.push(Mt.Ay.DIRECTION_VERTICAL),e=[...new Set(e)],0===e.length?Mt.Ay.DIRECTION_NONE:1===e.length?e[0]:Mt.Ay.DIRECTION_ALL}isGestureEnabledForEvent({numberOfPointers:t},e,{maxPointers:i}){const s=i===t;return!s&&this.isGestureRunning?{failed:!0}:{success:s}}updateGestureConfig({numberOfPointers:t=1,direction:e,...i}){if(Wt(e)||"number"!=typeof e)throw new se("direction",e,"number");return super.updateGestureConfig({numberOfPointers:t,direction:e,...i})}}};function oe(t){if(void 0!==(null==t?void 0:t.viewTag))return oe(t.viewTag);if(t instanceof Element)return"contents"===t.style.display?oe(t.firstChild):t;if(function(t){const e=Object.getPrototypeOf(t).constructor.name;return Ot.indexOf(e)>=0&&Object.hasOwn(t,"elementRef")}(t))return t.elementRef.current;let e=null==t?void 0:t.current;for(;e&&"contents"===e.style.display;)e=e.firstChild;return e}function ae(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class le{constructor(t){ae(this,"view",void 0),ae(this,"pointersInBounds",[]),ae(this,"activePointersCounter",void 0),this.view=t,this.activePointersCounter=0}onPointerDown(t){}onPointerAdd(t){}onPointerUp(t){}onPointerRemove(t){}onPointerMove(t){}onPointerLeave(t){}onPointerEnter(t){}onPointerCancel(t){}onPointerOutOfBounds(t){}onPointerMoveOver(t){}onPointerMoveOut(t){}onWheel(t){}setOnPointerDown(t){this.onPointerDown=t}setOnPointerAdd(t){this.onPointerAdd=t}setOnPointerUp(t){this.onPointerUp=t}setOnPointerRemove(t){this.onPointerRemove=t}setOnPointerMove(t){this.onPointerMove=t}setOnPointerLeave(t){this.onPointerLeave=t}setOnPointerEnter(t){this.onPointerEnter=t}setOnPointerCancel(t){this.onPointerCancel=t}setOnPointerOutOfBounds(t){this.onPointerOutOfBounds=t}setOnPointerMoveOver(t){this.onPointerMoveOver=t}setOnPointerMoveOut(t){this.onPointerMoveOut=t}setOnWheel(t){this.onWheel=t}markAsInBounds(t){this.pointersInBounds.indexOf(t)>=0||this.pointersInBounds.push(t)}markAsOutOfBounds(t){const e=this.pointersInBounds.indexOf(t);e<0||this.pointersInBounds.splice(e,1)}resetManager(){this.activePointersCounter=0,this.pointersInBounds=[]}}function he(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const ue=new Set(["SELECT","INPUT"]);class ce extends le{constructor(t){super(t),he(this,"trackedPointers",new Set),he(this,"mouseButtonsMapper",new Map),he(this,"lastPosition",void 0),he(this,"pointerDownCallback",(t=>{if(!St(this.view,{x:t.clientX,y:t.clientY}))return;const e=this.mapEvent(t,x.DOWN),i=t.target;ue.has(i.tagName)||i.setPointerCapture(e.pointerId),this.markAsInBounds(e.pointerId),this.trackedPointers.add(e.pointerId),++this.activePointersCounter>1?(e.eventType=x.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(e)):this.onPointerDown(e)})),he(this,"pointerUpCallback",(t=>{if(0===this.activePointersCounter)return;const e=this.mapEvent(t,x.UP),i=t.target;ue.has(i.tagName)||i.releasePointerCapture(e.pointerId),this.markAsOutOfBounds(e.pointerId),this.trackedPointers.delete(e.pointerId),--this.activePointersCounter>0?(e.eventType=x.ADDITIONAL_POINTER_UP,this.onPointerRemove(e)):this.onPointerUp(e)})),he(this,"pointerMoveCallback",(t=>{const e=this.mapEvent(t,x.MOVE),i=t.target;i.hasPointerCapture(t.pointerId)||ue.has(i.tagName)||i.setPointerCapture(t.pointerId);const s=St(this.view,{x:e.x,y:e.y}),n=this.pointersInBounds.indexOf(e.pointerId);s?n<0?(e.eventType=x.ENTER,this.onPointerEnter(e),this.markAsInBounds(e.pointerId)):this.onPointerMove(e):n>=0?(e.eventType=x.LEAVE,this.onPointerLeave(e),this.markAsOutOfBounds(e.pointerId)):this.onPointerOutOfBounds(e),this.lastPosition.x=t.x,this.lastPosition.y=t.y})),he(this,"pointerCancelCallback",(t=>{const e=this.mapEvent(t,x.CANCEL);this.onPointerCancel(e),this.markAsOutOfBounds(e.pointerId),this.activePointersCounter=0,this.trackedPointers.clear()})),he(this,"pointerEnterCallback",(t=>{const e=this.mapEvent(t,x.ENTER);this.onPointerMoveOver(e)})),he(this,"pointerLeaveCallback",(t=>{const e=this.mapEvent(t,x.LEAVE);this.onPointerMoveOut(e)})),he(this,"lostPointerCaptureCallback",(t=>{const e=this.mapEvent(t,x.CANCEL);this.trackedPointers.has(e.pointerId)&&(this.onPointerCancel(e),this.activePointersCounter=0,this.trackedPointers.clear())})),this.mouseButtonsMapper.set(0,it.LEFT),this.mouseButtonsMapper.set(1,it.MIDDLE),this.mouseButtonsMapper.set(2,it.RIGHT),this.mouseButtonsMapper.set(3,it.BUTTON_4),this.mouseButtonsMapper.set(4,it.BUTTON_5),this.lastPosition={x:-1/0,y:-1/0}}registerListeners(){this.view.addEventListener("pointerdown",this.pointerDownCallback),this.view.addEventListener("pointerup",this.pointerUpCallback),this.view.addEventListener("pointermove",this.pointerMoveCallback),this.view.addEventListener("pointercancel",this.pointerCancelCallback),this.view.addEventListener("pointerenter",this.pointerEnterCallback),this.view.addEventListener("pointerleave",this.pointerLeaveCallback),this.view.addEventListener("lostpointercapture",this.lostPointerCaptureCallback)}unregisterListeners(){this.view.removeEventListener("pointerdown",this.pointerDownCallback),this.view.removeEventListener("pointerup",this.pointerUpCallback),this.view.removeEventListener("pointermove",this.pointerMoveCallback),this.view.removeEventListener("pointercancel",this.pointerCancelCallback),this.view.removeEventListener("pointerenter",this.pointerEnterCallback),this.view.removeEventListener("pointerleave",this.pointerLeaveCallback),this.view.removeEventListener("lostpointercapture",this.lostPointerCaptureCallback)}mapEvent(t,e){var i;const s=this.view.getBoundingClientRect(),{scaleX:n,scaleY:r}=function(t){var e;const i=getComputedStyle(t),s={scaleX:1,scaleY:1};if(void 0!==i.scale&&"none"!==i.scale){const t=i.scale.split(" ");t[0]&&(s.scaleX=parseFloat(t[0])),s.scaleY=t[1]?parseFloat(t[1]):parseFloat(t[0])}const n=null===(e=new RegExp(/matrix\((.+)\)/).exec(i.transform))||void 0===e?void 0:e[1];if(n){const t=n.split(", ");s.scaleX*=parseFloat(t[0]),s.scaleY*=parseFloat(t[3])}return s}(this.view);return{x:t.clientX,y:t.clientY,offsetX:(t.clientX-s.left)/n,offsetY:(t.clientY-s.top)/r,pointerId:t.pointerId,eventType:e,pointerType:null!==(i=bt.get(t.pointerType))&&void 0!==i?i:H.OTHER,button:this.mouseButtonsMapper.get(t.button),time:t.timeStamp,stylusData:Pt(t)}}resetManager(){super.resetManager(),this.trackedPointers.clear()}}function de(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class fe extends le{constructor(...t){super(...t),de(this,"activationKeys",["Enter"," "]),de(this,"cancelationKeys",["Tab"]),de(this,"isPressed",!1),de(this,"keyDownCallback",(t=>{-1!==this.cancelationKeys.indexOf(t.key)&&this.isPressed?this.dispatchEvent(t,x.CANCEL):-1!==this.activationKeys.indexOf(t.key)&&this.dispatchEvent(t,x.DOWN)})),de(this,"keyUpCallback",(t=>{-1!==this.activationKeys.indexOf(t.key)&&this.isPressed&&this.dispatchEvent(t,x.UP)}))}dispatchEvent(t,e){if(!(t.target instanceof HTMLElement))return;const i=this.mapEvent(t,e);switch(e){case x.UP:this.isPressed=!1,this.onPointerUp(i);break;case x.DOWN:this.isPressed=!0,this.onPointerDown(i);break;case x.CANCEL:this.isPressed=!1,this.onPointerCancel(i)}}registerListeners(){this.view.addEventListener("keydown",this.keyDownCallback),this.view.addEventListener("keyup",this.keyUpCallback)}unregisterListeners(){this.view.removeEventListener("keydown",this.keyDownCallback),this.view.removeEventListener("keyup",this.keyUpCallback)}mapEvent(t,e){const i=t.target.getBoundingClientRect(),s={x:(null==i?void 0:i.x)+(null==i?void 0:i.width)/2,y:(null==i?void 0:i.y)+(null==i?void 0:i.height)/2},n={x:(null==i?void 0:i.width)/2,y:(null==i?void 0:i.height)/2};return{x:s.x,y:s.y,offsetX:n.x,offsetY:n.y,pointerId:0,eventType:e,pointerType:H.KEY,time:t.timeStamp}}}function ve(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class pe extends le{constructor(...t){super(...t),ve(this,"wheelDelta",{x:0,y:0}),ve(this,"resetDelta",(t=>{this.wheelDelta={x:0,y:0}})),ve(this,"wheelCallback",(t=>{this.wheelDelta.x+=t.deltaX,this.wheelDelta.y+=t.deltaY;const e=this.mapEvent(t);this.onWheel(e)}))}registerListeners(){this.view.addEventListener("pointermove",this.resetDelta),this.view.addEventListener("wheel",this.wheelCallback)}unregisterListeners(){this.view.removeEventListener("pointermove",this.resetDelta),this.view.removeEventListener("wheel",this.wheelCallback)}mapEvent(t){return{x:t.clientX+this.wheelDelta.x,y:t.clientY+this.wheelDelta.y,offsetX:t.offsetX-t.deltaX,offsetY:t.offsetY-t.deltaY,pointerId:-1,eventType:x.MOVE,pointerType:H.OTHER,time:t.timeStamp,wheelDeltaY:t.wheelDeltaY}}resetManager(){super.resetManager()}}function ge(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class me{constructor(){ge(this,"isInitialized",!1),ge(this,"view",void 0),ge(this,"gestureHandler",void 0),ge(this,"eventManagers",[]),ge(this,"defaultViewStyles",{userSelect:"",touchAction:""})}getView(){return this.view}init(t,e){if(!t)throw new Error(`Cannot find HTML Element for handler ${e.getTag()}`);this.isInitialized=!0,this.gestureHandler=e,this.view=oe(t),this.defaultViewStyles={userSelect:this.view.style.userSelect,touchAction:this.view.style.touchAction};const i=e.getConfig();this.setUserSelect(i.enabled),this.setTouchAction(i.enabled),this.setContextMenu(i.enabled),this.eventManagers.push(new ce(this.view)),this.eventManagers.push(new fe(this.view)),this.eventManagers.push(new pe(this.view)),this.eventManagers.forEach((t=>this.gestureHandler.attachEventManager(t)))}isPointerInBounds({x:t,y:e}){return St(this.view,{x:t,y:e})}measureView(){const t=this.view.getBoundingClientRect();return{pageX:t.left,pageY:t.top,width:t.width,height:t.height}}reset(){this.eventManagers.forEach((t=>t.resetManager()))}tryResetCursor(){const t=this.gestureHandler.getConfig();t.activeCursor&&"auto"!==t.activeCursor&&this.gestureHandler.getState()===n.ACTIVE&&(this.view.style.cursor="auto")}shouldDisableContextMenu(t){return void 0===t.enableContextMenu&&this.gestureHandler.isButtonInConfig(it.RIGHT)||!1===t.enableContextMenu}addContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.addEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.addEventListener("contextmenu",this.enableContextMenu)}removeContextMenuListeners(t){this.shouldDisableContextMenu(t)?this.view.removeEventListener("contextmenu",this.disableContextMenu):t.enableContextMenu&&this.view.removeEventListener("contextmenu",this.enableContextMenu)}disableContextMenu(t){t.preventDefault()}enableContextMenu(t){t.stopPropagation()}setUserSelect(t){const{userSelect:e}=this.gestureHandler.getConfig();this.view.style.userSelect=t?null!=e?e:"none":this.defaultViewStyles.userSelect,this.view.style.webkitUserSelect=t?null!=e?e:"none":this.defaultViewStyles.userSelect}setTouchAction(t){const{touchAction:e}=this.gestureHandler.getConfig();this.view.style.touchAction=t?null!=e?e:"none":this.defaultViewStyles.touchAction,this.view.style.WebkitTouchCallout=t?null!=e?e:"none":this.defaultViewStyles.touchAction}setContextMenu(t){const e=this.gestureHandler.getConfig();t?this.addContextMenuListeners(e):this.removeContextMenuListeners(e)}onEnabledChange(t){this.isInitialized&&(this.setUserSelect(t),this.setTouchAction(t),this.setContextMenu(t))}onBegin(){}onActivate(){const t=this.gestureHandler.getConfig();this.view.style.cursor&&"auto"!==this.view.style.cursor||!t.activeCursor||(this.view.style.cursor=t.activeCursor)}onEnd(){this.tryResetCursor()}onCancel(){this.tryResetCursor()}onFail(){this.tryResetCursor()}destroy(t){this.removeContextMenuListeners(t),this.eventManagers.forEach((t=>{t.unregisterListeners()}))}}let Ee=!1;const Te={handleSetJSResponder(t,e){console.warn("handleSetJSResponder: ",t,e)},handleClearJSResponder(){console.warn("handleClearJSResponder: ")},createGestureHandler(t,e,i){if(M()){if(!(t in ne))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);const s=ne[t];p.createGestureHandler(e,new s(new me)),Z.getInstance().configureInteractions(p.getHandler(e),i)}else{if(!(t in re))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);!function(t,e){if(t in Ht)throw new Error(`Handler with tag ${t} already exists`);Ht[t]=e,Ht[t].handlerTag=t}(e,new(0,re[t]))}this.updateGestureHandler(e,i)},attachGestureHandler(t,e,i,s){if(!(e instanceof Element||e instanceof w.Component)){Ee=!0;const e=(M()?p.getHandler(t):Xt(t)).constructor.name;throw new Error(`${e} with tag ${t} received child that is not valid HTML element.`)}M()?p.getHandler(t).init(e,s):Xt(t).setView(e,s)},updateGestureHandler(t,e){M()?(p.getHandler(t).updateGestureConfig(e),Z.getInstance().configureInteractions(p.getHandler(t),e)):Xt(t).updateGestureConfig(e)},getGestureHandlerNode:t=>M()?p.getHandler(t):Xt(t),dropGestureHandler(t){Ee||(M()?p.dropGestureHandler(t):function(t){t in Ht&&(Xt(t).destroy(),delete Ht[t])}(t))},flushOperations(){}};var ye=i(43999),Se=i(4146),be=i.n(Se),Ae=i(9176);const Pe=w.createContext(!1);function Oe(){return Oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Oe.apply(this,arguments)}function we({style:t,...e}){return w.createElement(Pe.Provider,{value:!0},w.createElement(Ae.default,Oe({style:null!=t?t:Ce.container},e)))}const Ce=ye.default.create({container:{flex:1}});function Ie(t,e){function i(i){return w.createElement(we,{style:[Ne.container,e]},w.createElement(t,i))}return i.displayName=`gestureHandlerRootHOC(${t.displayName||t.name})`,be()(i,t),i}const Ne=ye.default.create({container:{flex:1}});var De=i(8683);let Re=1;function Me(){return Re++}function xe(t,e,i={}){const s={...i};for(const i of e){let e=t[i];r=i,void 0===(n=e)||n===Object(n)&&"__isNative"in n||"onHandlerStateChange"===r||"onGestureEvent"===r||("simultaneousHandlers"===i||"waitFor"===i?e=Ge(t[i]):"hitSlop"===i&&"object"!=typeof e&&(e={top:e,left:e,bottom:e,right:e}),s[i]=e)}var n,r;return s}function Ge(t){var e;return e=t,t=Array.isArray(e)?e:[e],"web"===C.default.OS?t.map((({current:t})=>t)).filter((t=>t)):t.map((t=>{var e;return h[t]||(null===(e=t.current)||void 0===e?void 0:e.handlerTag)||-1})).filter((t=>t>0))}let ke=!1;function He(){ke||(ke=!0,Ft((()=>{Te.flushOperations(),ke=!1})))}function Xe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Fe{static addMountListener(t){return this.mountListeners.add(t),()=>{this.mountListeners.delete(t)}}static addUnmountListener(t){return this.unmountListeners.add(t),()=>{this.unmountListeners.delete(t)}}static gestureHandlerWillMount(t){this.mountListeners.forEach((e=>e(t)))}static gestureHandlerWillUnmount(t){this.unmountListeners.forEach((e=>e(t)))}static gestureWillMount(t){this.mountListeners.forEach((e=>e(t)))}static gestureWillUnmount(t){this.unmountListeners.forEach((e=>e(t)))}}var Ye,Le,_e;function Ve(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Xe(Fe,"mountListeners",new Set),Xe(Fe,"unmountListeners",new Set);const Ue=De.A,We={onGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},onGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"},...!(null===(Be=i.g)||void 0===Be||!Be.nativeFabricUIManager)&&"android"===C.default.OS&&{topOnGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},topOnGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"}}};var Be;Ue.genericDirectEventTypes={...Ue.genericDirectEventTypes,...We};const je=null!==(Ye=null===(Le=Ue.getViewManagerConfig)||void 0===Le?void 0:Le.call(Ue,"getConstants"))&&void 0!==Ye?Ye:null===(_e=Ue.getConstants)||void 0===_e?void 0:_e.call(Ue);je&&(je.genericDirectEventTypes={...je.genericDirectEventTypes,...We});const{setJSResponder:qe=()=>{},clearJSResponder:ze=()=>{}}=Ue;Ue.setJSResponder=(t,e)=>{Te.handleSetJSResponder(t,e),qe(t,e)},Ue.clearJSResponder=()=>{Te.handleClearJSResponder(),ze()};function $e(t){const e=t=>Array.isArray(t)?t.some((t=>t&&null===t.current)):t&&null===t.current;return e(t.simultaneousHandlers)||e(t.waitFor)}const Je={[n.UNDETERMINED]:void 0,[n.BEGAN]:"onBegan",[n.FAILED]:"onFailed",[n.CANCELLED]:"onCancelled",[n.ACTIVE]:"onActivated",[n.END]:"onEnded"};function Ke({name:t,allowedProps:e=[],config:i={},transformProps:s,customNativeProps:n=[]}){class l extends w.Component{constructor(e){if(super(e),Ve(this,"handlerTag",void 0),Ve(this,"config",void 0),Ve(this,"propsRef",void 0),Ve(this,"isMountedRef",void 0),Ve(this,"viewNode",void 0),Ve(this,"viewTag",void 0),Ve(this,"inspectorToggleListener",void 0),Ve(this,"onGestureHandlerEvent",(t=>{var e,i,s,n;t.nativeEvent.handlerTag===this.handlerTag?"function"==typeof this.props.onGestureEvent&&(null===(e=(i=this.props).onGestureEvent)||void 0===e||e.call(i,t)):null===(s=(n=this.props).onGestureHandlerEvent)||void 0===s||s.call(n,t)})),Ve(this,"onGestureHandlerStateChange",(t=>{if(t.nativeEvent.handlerTag===this.handlerTag){var e,i;"function"==typeof this.props.onHandlerStateChange&&(null===(e=(i=this.props).onHandlerStateChange)||void 0===e||e.call(i,t));const s=t.nativeEvent.state,n=Je[s],r=n&&this.props[n];r&&"function"==typeof r&&r(t)}else{var s,n;null===(s=(n=this.props).onGestureHandlerStateChange)||void 0===s||s.call(n,t)}})),Ve(this,"refHandler",(t=>{this.viewNode=t;const e=w.Children.only(this.props.children),{ref:i}=e;null!==i&&("function"==typeof i?i(t):i.current=t)})),Ve(this,"createGestureHandler",(e=>{this.config=e,Te.createGestureHandler(t,this.handlerTag,e)})),Ve(this,"attachGestureHandler",(t=>{if(this.viewTag=t,"web"===C.default.OS)Te.attachGestureHandler(this.handlerTag,t,3,this.propsRef);else{!function(t,e){c.set(t,e)}(this.handlerTag,{onGestureEvent:this.onGestureHandlerEvent,onGestureStateChange:this.onGestureHandlerStateChange});const e=(()=>{var t,e;const i=null===(t=this.props)||void 0===t?void 0:t.onGestureEvent,s=i&&("current"in i||"workletEventHandler"in i),n=null===(e=this.props)||void 0===e?void 0:e.onHandlerStateChange;return s||n&&("current"in n||"workletEventHandler"in n)?1:i&&"__isNative"in i?2:3})();Te.attachGestureHandler(this.handlerTag,t,e)}He(),Ft((()=>{Fe.gestureHandlerWillMount(this)}))})),Ve(this,"updateGestureHandler",(t=>{this.config=t,Te.updateGestureHandler(this.handlerTag,t),He()})),this.handlerTag=Me(),this.config={},this.propsRef=w.createRef(),this.isMountedRef=w.createRef(),this.state={allowTouches:true},e.id){if(void 0!==h[e.id])throw new Error(`Handler with ID "${e.id}" already registered`);h[e.id]=this.handlerTag}}componentDidMount(){const t=this.props;if(this.isMountedRef.current=!0,$e(t)&&Ft((()=>{this.update(1)})),this.createGestureHandler(xe(s?s(this.props):this.props,[...e,...n],i)),!this.viewNode)throw new Error(`[Gesture Handler] Failed to obtain view for ${l.displayName}. Note that old API doesn't support functional components.`);this.attachGestureHandler(oe(this.viewNode))}componentDidUpdate(){const t=oe(this.viewNode);this.viewTag!==t&&this.attachGestureHandler(t),this.update(1)}componentWillUnmount(){var t;null===(t=this.inspectorToggleListener)||void 0===t||t.remove(),this.isMountedRef.current=!1,Te.dropGestureHandler(this.handlerTag),He();const e=this.props.id;e&&delete h[e],Fe.gestureHandlerWillUnmount(this)}update(t){if(this.isMountedRef.current)if($e(this.props)&&t>0)Ft((()=>{this.update(t-1)}));else{const t=xe(s?s(this.props):this.props,[...e,...n],i);a(this.config,t)||this.updateGestureHandler(t)}}setNativeProps(t){const r={...this.props,...t},o=xe(s?s(r):r,[...e,...n],i);this.updateGestureHandler(o)}render(){var e;let i=this.onGestureHandlerEvent;const{onGestureEvent:s,onGestureHandlerEvent:n}=this.props;if(s&&"function"!=typeof s){if(n)throw new Error("Nesting touch handlers with native animated driver is not supported yet");i=s}else if(n&&"function"!=typeof n)throw new Error("Nesting touch handlers with native animated driver is not supported yet");let a=this.onGestureHandlerStateChange;const{onHandlerStateChange:l,onGestureHandlerStateChange:h}=this.props;if(l&&"function"!=typeof l){if(h)throw new Error("Nesting touch handlers with native animated driver is not supported yet");a=l}else if(h&&"function"!=typeof h)throw new Error("Nesting touch handlers with native animated driver is not supported yet");const u={onGestureHandlerEvent:this.state.allowTouches?i:void 0,onGestureHandlerStateChange:this.state.allowTouches?a:void 0};this.propsRef.current=u;let c=null;try{c=w.Children.only(this.props.children)}catch(e){throw new Error(o(`${t} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`))}let d=c.props.children;return w.cloneElement(c,{ref:this.refHandler,collapsable:!1,...r()?{handlerType:t,handlerTag:this.handlerTag,enabled:this.props.enabled}:{},testID:null!==(e=this.props.testID)&&void 0!==e?e:c.props.testID,...u},d)}}return Ve(l,"displayName",t),Ve(l,"contextType",Pe),l}const Ze=["maxDurationMs","maxDelayMs","numberOfTaps","maxDeltaX","maxDeltaY","maxDist","minPointers"],Qe=Ke({name:"TapGestureHandler",allowedProps:[...tt,...Ze],config:{shouldCancelWhenOutside:!0}}),ti={get forceTouchAvailable(){return!1}},ei=["minForce","maxForce","feedbackOnActivation"];class ii extends w.Component{componentDidMount(){console.warn(o("ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase"))}render(){return this.props.children}}!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(ii,"forceTouchAvailable",!1);const si=null!=ti&&ti.forceTouchAvailable?Ke({name:"ForceTouchGestureHandler",allowedProps:[...tt,...ei],config:{}}):ii;si.forceTouchAvailable=(null==ti?void 0:ti.forceTouchAvailable)||!1;const ni=["minDurationMs","maxDist","numberOfPointers"],ri=Ke({name:"LongPressGestureHandler",allowedProps:[...tt,...ni],config:{shouldCancelWhenOutside:!0}}),oi=["activeOffsetY","activeOffsetX","failOffsetY","failOffsetX","minDist","minVelocity","minVelocityX","minVelocityY","minPointers","maxPointers","avgTouches","enableTrackpadTwoFingerGesture","activateAfterLongPress"],ai=["activeOffsetYStart","activeOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","failOffsetYStart","failOffsetYEnd","failOffsetXStart","failOffsetXEnd"],li=Ke({name:"PanGestureHandler",allowedProps:[...tt,...oi],config:{},transformProps:function(t){return function(t){const e={...t};return void 0!==t.activeOffsetX&&(delete e.activeOffsetX,Array.isArray(t.activeOffsetX)?(e.activeOffsetXStart=t.activeOffsetX[0],e.activeOffsetXEnd=t.activeOffsetX[1]):t.activeOffsetX<0?e.activeOffsetXStart=t.activeOffsetX:e.activeOffsetXEnd=t.activeOffsetX),void 0!==t.activeOffsetY&&(delete e.activeOffsetY,Array.isArray(t.activeOffsetY)?(e.activeOffsetYStart=t.activeOffsetY[0],e.activeOffsetYEnd=t.activeOffsetY[1]):t.activeOffsetY<0?e.activeOffsetYStart=t.activeOffsetY:e.activeOffsetYEnd=t.activeOffsetY),void 0!==t.failOffsetX&&(delete e.failOffsetX,Array.isArray(t.failOffsetX)?(e.failOffsetXStart=t.failOffsetX[0],e.failOffsetXEnd=t.failOffsetX[1]):t.failOffsetX<0?e.failOffsetXStart=t.failOffsetX:e.failOffsetXEnd=t.failOffsetX),void 0!==t.failOffsetY&&(delete e.failOffsetY,Array.isArray(t.failOffsetY)?(e.failOffsetYStart=t.failOffsetY[0],e.failOffsetYEnd=t.failOffsetY[1]):t.failOffsetY<0?e.failOffsetYStart=t.failOffsetY:e.failOffsetYEnd=t.failOffsetY),e}(t)},customNativeProps:ai}),hi=Ke({name:"PinchGestureHandler",allowedProps:tt,config:{}}),ui=Ke({name:"RotationGestureHandler",allowedProps:tt,config:{}}),ci=["numberOfPointers","direction"],di=Ke({name:"FlingGestureHandler",allowedProps:[...tt,...ci],config:{}}),fi=["shouldActivateOnStart","disallowInterruption"],vi=[...tt,...fi],pi=Ke({name:"NativeViewGestureHandler",allowedProps:vi,config:{}});function gi(){return gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},gi.apply(this,arguments)}const mi=[...vi,"onGestureHandlerEvent","onGestureHandlerStateChange"];function Ei(t,e={}){var i;const s=w.forwardRef(((i,s)=>{const n=Object.keys(i).reduce(((t,e)=>(mi.includes(e)&&(t[e]=i[e]),t)),{...e}),r=(0,w.useRef)(),o=(0,w.useRef)();return(0,w.useImperativeHandle)(s,(()=>{const t=o.current;return r.current&&t?(r.current.handlerTag=t.handlerTag,r.current):null}),[r,o]),w.createElement(pi,gi({},n,{ref:o}),w.createElement(t,gi({},i,{ref:r})))}));return s.displayName=(null==t?void 0:t.displayName)||(null==t||null===(i=t.render)||void 0===i?void 0:i.name)||"string"==typeof t&&t||"ComponentWrapper",s}function Ti(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class yi{}let Si=0;class bi extends yi{constructor(){super(),Ti(this,"gestureId",-1),Ti(this,"handlerTag",-1),Ti(this,"handlerName",""),Ti(this,"config",{}),Ti(this,"handlers",{gestureId:-1,handlerTag:-1,isWorklet:[]}),this.gestureId=Si++,this.handlers.gestureId=this.gestureId}addDependency(t,e){const i=this.config[t];this.config[t]=i?Array().concat(i,e):[e]}withRef(t){return this.config.ref=t,this}isWorklet(t){return void 0!==t.__workletHash}onBegin(t){return this.handlers.onBegin=t,this.handlers.isWorklet[1]=this.isWorklet(t),this}onStart(t){return this.handlers.onStart=t,this.handlers.isWorklet[2]=this.isWorklet(t),this}onEnd(t){return this.handlers.onEnd=t,this.handlers.isWorklet[5]=this.isWorklet(t),this}onFinalize(t){return this.handlers.onFinalize=t,this.handlers.isWorklet[6]=this.isWorklet(t),this}onTouchesDown(t){return this.config.needsPointerData=!0,this.handlers.onTouchesDown=t,this.handlers.isWorklet[7]=this.isWorklet(t),this}onTouchesMove(t){return this.config.needsPointerData=!0,this.handlers.onTouchesMove=t,this.handlers.isWorklet[8]=this.isWorklet(t),this}onTouchesUp(t){return this.config.needsPointerData=!0,this.handlers.onTouchesUp=t,this.handlers.isWorklet[9]=this.isWorklet(t),this}onTouchesCancelled(t){return this.config.needsPointerData=!0,this.handlers.onTouchesCancelled=t,this.handlers.isWorklet[10]=this.isWorklet(t),this}enabled(t){return this.config.enabled=t,this}shouldCancelWhenOutside(t){return this.config.shouldCancelWhenOutside=t,this}hitSlop(t){return this.config.hitSlop=t,this}activeCursor(t){return this.config.activeCursor=t,this}mouseButton(t){return this.config.mouseButton=t,this}runOnJS(t){return this.config.runOnJS=t,this}simultaneousWithExternalGesture(...t){for(const e of t)this.addDependency("simultaneousWith",e);return this}requireExternalGestureToFail(...t){for(const e of t)this.addDependency("requireToFail",e);return this}blocksExternalGesture(...t){for(const e of t)this.addDependency("blocksHandlers",e);return this}withTestId(t){return this.config.testId=t,this}cancelsTouchesInView(t){return this.config.cancelsTouchesInView=t,this}initialize(){this.handlerTag=Me(),this.handlers={...this.handlers,handlerTag:this.handlerTag},this.config.ref&&(this.config.ref.current=this)}toGestureArray(){return[this]}prepare(){}get shouldUseReanimated(){return!0!==this.config.runOnJS&&!this.handlers.isWorklet.includes(!1)&&!function(){const t=i.g;return!(t.nativeCallSyncHook&&!t.__REMOTEDEV__||t.RN$Bridgeless)}()}}class Ai extends bi{onUpdate(t){return this.handlers.onUpdate=t,this.handlers.isWorklet[3]=this.isWorklet(t),this}onChange(t){return this.handlers.onChange=t,this.handlers.isWorklet[4]=this.isWorklet(t),this}manualActivation(t){return this.config.manualActivation=t,this}}var Pi;let Oi,wi;try{Oi=i(23193)}catch(t){Oi=void 0}function Ci(t){switch(t){case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10}return 0}function Ii(t,e,i,...s){const n=function(t,e){switch(t){case 1:return e.onBegin;case 2:return e.onStart;case 3:return e.onUpdate;case 4:return e.onChange;case 5:return e.onEnd;case 6:return e.onFinalize;case 7:return e.onTouchesDown;case 8:return e.onTouchesMove;case 9:return e.onTouchesUp;case 10:return e.onTouchesCancelled}}(t,e);e.isWorklet[t]?null==n||n(i,...s):n&&console.warn(o("Animated gesture callback must be a worklet"))}function Ni(t){return null!=t.oldState}function Di(t){return null!=t.eventType}function Ri(t,e){let i;return i=void 0===e?{changeX:t.x,changeY:t.y}:{changeX:t.x-e.x,changeY:t.y-e.y},{...t,...i}}null!==(Pi=Oi)&&void 0!==Pi&&Pi.useSharedValue||(Oi=void 0),void 0===Oi||Oi.setGestureState||(Oi.setGestureState=()=>{console.warn(o("Please use newer version of react-native-reanimated in order to control state of the gestures."))}),function(t){t[t.NONE=0]="NONE",t[t.LIFT=1]="LIFT",t[t.HIGHLIGHT=2]="HIGHLIGHT"}(wi||(wi={}));class Mi extends Ai{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="HoverGestureHandler"}effect(t){return this.config.hoverEffect=t,this}onChange(t){return this.handlers.changeEventCalculator=Ri,super.onChange(t)}}const xi=[...et,...Ze,...oi,...ai,...ni,...ei,...ci,"hoverEffect",...fi];function Gi(t){return"number"==typeof t?t:t instanceof bi?t.handlerTag:null!==(e=null===(i=t.current)||void 0===i?void 0:i.handlerTag)&&void 0!==e?e:-1;var e,i}function ki(t){var e,i;return null!==(e=null==t||null===(i=t.map(Gi))||void 0===i?void 0:i.filter((t=>t>0)))&&void 0!==e?e:[]}function Hi(t){return{waitFor:ki(t.config.requireToFail),simultaneousHandlers:ki(t.config.simultaneousWith),blocksHandlers:ki(t.config.blocksHandlers)}}function Xi({preparedGesture:t,gestureConfig:e,gesturesToAttach:i,viewTag:s,webEventHandlersRef:n}){e.initialize(),Ft((()=>{t.isMounted&&e.prepare()}));for(const t of i)Te.createGestureHandler(t.handlerName,t.handlerTag,xe(t.config,xi)),f(t.handlerTag,t,t.config.testId);Ft((()=>{if(t.isMounted){for(const t of i)Te.updateGestureHandler(t.handlerTag,xe(t.config,xi,Hi(t)));He()}}));for(const t of i){const e=t.shouldUseReanimated?1:4;"web"===C.default.OS?Te.attachGestureHandler(t.handlerTag,s,3,n):Te.attachGestureHandler(t.handlerTag,s,e),Fe.gestureWillMount(t)}if(t.attachedGestures=i,t.animatedHandlers){const e=t=>t.shouldUseReanimated;t.animatedHandlers.value=i.filter(e).map((t=>t.handlers))}}function Fi(t,e){if(e.length!==t.attachedGestures.length)return!0;for(let i=0;i<e.length;i++)if(e[i].handlerName!==t.attachedGestures[i].handlerName||e[i].shouldUseReanimated!==t.attachedGestures[i].shouldUseReanimated)return!0;return!1}function Yi(t){for(const e of t.attachedGestures)Te.dropGestureHandler(e.handlerTag),v(e.handlerTag,e.config.testId),Fe.gestureWillUnmount(e);He()}const Li=(0,w.forwardRef)((({children:t},e)=>{try{var i;const s=w.Children.only(t);return"WebShape"===(null===(i=Object.getPrototypeOf(null==s?void 0:s.type))||void 0===i?void 0:i.name)?w.cloneElement(s,{ref:e},s.props.children):w.createElement("div",{ref:e,style:{display:"contents"}},s)}catch(t){throw new Error(o("GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view."))}})),_i=Li;function Vi(t,e){if(void 0===t)return!1;for(const i of Ge(t))if(i===e.handlerTag)return!0;return!1}const Ui=t=>{(0,w.useContext)(Pe);const e=t.gesture;!function(t,e){const i=["userSelect","enableContextMenu","touchAction"];for(const s of i){const i=t[s];if(void 0!==i)for(const t of e.toGestureArray())t.config[s]=i}}(t,e);const i=(0,w.useMemo)((()=>e.toGestureArray()),[e]),s=i.some((t=>t.shouldUseReanimated)),r=(0,w.useRef)({onGestureHandlerEvent:t=>{O(t.nativeEvent)},onGestureHandlerStateChange:M()?t=>{O(t.nativeEvent)}:void 0}),o=(0,w.useRef)({firstRender:!0,viewRef:null,previousViewTag:-1,forceRebuildReanimatedEvent:!1}).current,a=w.useRef({attachedGestures:[],animatedEventHandler:null,animatedHandlers:null,shouldUseReanimated:s,isMounted:!1}).current,l=function(t,e,i,s,n){const r=function(){const[t,e]=(0,w.useState)(!1);return(0,w.useCallback)((()=>{e(!t)}),[t,e])}(),o=(0,w.useCallback)((o=>{const a=oe(t.viewRef),l=a!==t.previousViewTag;l||Fi(e,i)?(t.viewRef,Yi(e),Xi({preparedGesture:e,gestureConfig:s,gesturesToAttach:i,webEventHandlersRef:n,viewTag:a}),l&&(t.previousViewTag=a,t.forceRebuildReanimatedEvent=!0,r())):o||function(t,e,i){e.prepare();for(let e=0;e<i.length;e++){const s=t.attachedGestures[e];i[e].handlerTag!==s.handlerTag&&(i[e].handlerTag=s.handlerTag,i[e].handlers.handlerTag=s.handlerTag)}Ft((()=>{if(!t.isMounted)return;let e=t.attachedGestures.length!==i.length;for(let s=0;s<i.length;s++){const n=t.attachedGestures[s];n.handlers.gestureId!==i[s].handlers.gestureId&&(i[s].shouldUseReanimated||n.shouldUseReanimated)&&(e=!0),n.config=i[s].config,n.handlers=i[s].handlers,Te.updateGestureHandler(n.handlerTag,xe(n.config,xi,Hi(n))),f(n.handlerTag,n,n.config.testId)}if(t.animatedHandlers&&e){const e=t.attachedGestures.filter((t=>t.shouldUseReanimated)).map((t=>t.handlers));t.animatedHandlers.value=e}He()}))}(e,s,i)}),[r,s,i,e,t,n]);return o}(o,a,i,e,r),h=function(t,e){return(0,w.useCallback)((i=>{null!==i&&(t.viewRef=i,-1===t.previousViewTag&&(t.previousViewTag=oe(t.viewRef)),t.firstRender||e(!0))}),[t,e])}(o,l),u=o.firstRender||o.forceRebuildReanimatedEvent||Fi(a,i);return o.forceRebuildReanimatedEvent=!1,function(t,e){if(!Oi)return;const i=Oi.useSharedValue(null),s=Oi.useSharedValue([]),r=[],o=Oi.useEvent((t=>{const e=i.value;if(e)for(let i=0;i<e.length;i++){const a=e[i];if(t.handlerTag===a.handlerTag)if(Ni(t))t.oldState===n.UNDETERMINED&&t.state===n.BEGAN?Ii(1,a,t):t.oldState!==n.BEGAN&&t.oldState!==n.UNDETERMINED||t.state!==n.ACTIVE?t.oldState!==t.state&&t.state===n.END?(t.oldState===n.ACTIVE&&Ii(5,a,t,!0),Ii(6,a,t,!0)):t.state!==n.FAILED&&t.state!==n.CANCELLED||t.state===t.oldState||(t.oldState===n.ACTIVE&&Ii(5,a,t,!1),Ii(6,a,t,!1)):(Ii(2,a,t),s.value[a.handlerTag]=void 0);else if(Di(t))r[i]||(r[i]=T(t.handlerTag)),0!==t.eventType&&Ii(Ci(t.eventType),a,t,r[i]);else{var o;Ii(3,a,t),a.onChange&&a.changeEventCalculator&&(Ii(4,a,null===(o=a.changeEventCalculator)||void 0===o?void 0:o.call(a,t,s.value[a.handlerTag])),s.value[a.handlerTag]=t)}}}),["onGestureHandlerStateChange","onGestureHandlerEvent"],e);t.animatedEventHandler=o,t.animatedHandlers=i}(a,u),(0,w.useLayoutEffect)((()=>{const t=oe(o.viewRef);return a.isMounted=!0,Xi({preparedGesture:a,gestureConfig:e,gesturesToAttach:i,webEventHandlersRef:r,viewTag:t}),()=>{a.isMounted=!1,Yi(a)}}),[]),(0,w.useEffect)((()=>{o.firstRender?o.firstRender=!1:l()}),[t]),function(t,e){(0,w.useEffect)((()=>Fe.addMountListener((i=>{for(const s of e.attachedGestures){const e=s.config.blocksHandlers,n=s.config.requireToFail,r=s.config.simultaneousWith;if(Vi(e,i)||Vi(n,i)||Vi(r,i))return void t()}}))),[t,e])}(l,a),s?w.createElement(_i,{ref:h,onGestureHandlerEvent:a.animatedEventHandler},t.children):w.createElement(Li,{ref:h},t.children)};class Wi extends bi{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="FlingGestureHandler"}numberOfPointers(t){return this.config.numberOfPointers=t,this}direction(t){return this.config.direction=t,this}}function Bi(t,e){let i;return i=void 0===e?{forceChange:t.force}:{forceChange:t.force-e.force},{...t,...i}}class ji extends Ai{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="ForceTouchGestureHandler"}minForce(t){return this.config.minForce=t,this}maxForce(t){return this.config.maxForce=t,this}feedbackOnActivation(t){return this.config.feedbackOnActivation=t,this}onChange(t){return this.handlers.changeEventCalculator=Bi,super.onChange(t)}}function qi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zi(t,e){return void 0===t?[...e]:[...t,...e]}class $i extends yi{constructor(...t){super(),qi(this,"gestures",[]),qi(this,"simultaneousGestures",[]),qi(this,"requireGesturesToFail",[]),this.gestures=t}prepareSingleGesture(t,e,i){if(t instanceof bi){const s={...t.config};s.simultaneousWith=zi(s.simultaneousWith,e),s.requireToFail=zi(s.requireToFail,i),t.config=s}else t instanceof $i&&(t.simultaneousGestures=e,t.requireGesturesToFail=i,t.prepare())}prepare(){for(const t of this.gestures)this.prepareSingleGesture(t,this.simultaneousGestures,this.requireGesturesToFail)}initialize(){for(const t of this.gestures)t.initialize()}toGestureArray(){return this.gestures.flatMap((t=>t.toGestureArray()))}}class Ji extends $i{prepare(){const t=this.gestures.map((t=>this.gestures.filter((e=>e!==t)).flatMap((t=>t.toGestureArray()))));for(let e=0;e<this.gestures.length;e++)this.prepareSingleGesture(this.gestures[e],t[e],this.requireGesturesToFail)}}class Ki extends $i{prepare(){const t=this.gestures.map((t=>t.toGestureArray()));let e=[];for(let i=0;i<this.gestures.length;i++)this.prepareSingleGesture(this.gestures[i],this.simultaneousGestures,this.requireGesturesToFail.concat(e)),e=e.concat(t[i])}}class Zi extends bi{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="LongPressGestureHandler",this.shouldCancelWhenOutside(!0)}minDuration(t){return this.config.minDurationMs=t,this}maxDistance(t){return this.config.maxDist=t,this}numberOfPointers(t){return this.config.numberOfPointers=t,this}}function Qi(t,e){let i;return i=void 0===e?{changeX:t.translationX,changeY:t.translationY}:{changeX:t.translationX-e.translationX,changeY:t.translationY-e.translationY},{...t,...i}}class ts extends Ai{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="PanGestureHandler"}activeOffsetY(t){return Array.isArray(t)?(this.config.activeOffsetYStart=t[0],this.config.activeOffsetYEnd=t[1]):t<0?this.config.activeOffsetYStart=t:this.config.activeOffsetYEnd=t,this}activeOffsetX(t){return Array.isArray(t)?(this.config.activeOffsetXStart=t[0],this.config.activeOffsetXEnd=t[1]):t<0?this.config.activeOffsetXStart=t:this.config.activeOffsetXEnd=t,this}failOffsetY(t){return Array.isArray(t)?(this.config.failOffsetYStart=t[0],this.config.failOffsetYEnd=t[1]):t<0?this.config.failOffsetYStart=t:this.config.failOffsetYEnd=t,this}failOffsetX(t){return Array.isArray(t)?(this.config.failOffsetXStart=t[0],this.config.failOffsetXEnd=t[1]):t<0?this.config.failOffsetXStart=t:this.config.failOffsetXEnd=t,this}minPointers(t){return this.config.minPointers=t,this}maxPointers(t){return this.config.maxPointers=t,this}minDistance(t){return this.config.minDist=t,this}minVelocity(t){return this.config.minVelocity=t,this}minVelocityX(t){return this.config.minVelocityX=t,this}minVelocityY(t){return this.config.minVelocityY=t,this}averageTouches(t){return this.config.avgTouches=t,this}enableTrackpadTwoFingerGesture(t){return this.config.enableTrackpadTwoFingerGesture=t,this}activateAfterLongPress(t){return this.config.activateAfterLongPress=t,this}onChange(t){return this.handlers.changeEventCalculator=Qi,super.onChange(t)}}function es(t,e){let i;return i=void 0===e?{scaleChange:t.scale}:{scaleChange:t.scale/e.scale},{...t,...i}}class is extends Ai{constructor(){super(),this.handlerName="PinchGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=es,super.onChange(t)}}function ss(t,e){let i;return i=void 0===e?{rotationChange:t.rotation}:{rotationChange:t.rotation-e.rotation},{...t,...i}}class ns extends Ai{constructor(){super(),this.handlerName="RotationGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=ss,super.onChange(t)}}class rs extends bi{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="TapGestureHandler",this.shouldCancelWhenOutside(!0)}minPointers(t){return this.config.minPointers=t,this}numberOfTaps(t){return this.config.numberOfTaps=t,this}maxDistance(t){return this.config.maxDist=t,this}maxDuration(t){return this.config.maxDurationMs=t,this}maxDelay(t){return this.config.maxDelayMs=t,this}maxDeltaX(t){return this.config.maxDeltaX=t,this}maxDeltaY(t){return this.config.maxDeltaY=t,this}}class os extends bi{constructor(){super(),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"config",{}),this.handlerName="NativeViewGestureHandler"}shouldActivateOnStart(t){return this.config.shouldActivateOnStart=t,this}disallowInterruption(t){return this.config.disallowInterruption=t,this}}function as(t,e){return t}class ls extends Ai{constructor(){super(),this.handlerName="ManualGestureHandler"}onChange(t){return this.handlers.changeEventCalculator=as,super.onChange(t)}}const hs={Tap:()=>new rs,Pan:()=>new ts,Pinch:()=>new is,Rotation:()=>new ns,Fling:()=>new Wi,LongPress:()=>new Zi,ForceTouch:()=>new ji,Native:()=>new os,Manual:()=>new ls,Hover:()=>new Mi,Race:(...t)=>new $i(...t),Simultaneous:(...t)=>new Ji(...t),Exclusive:(...t)=>new Ki(...t)};var us=i(2901),cs=i(94678);function ds(){return ds=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ds.apply(this,arguments)}const fs=w.forwardRef(((t,e)=>w.createElement(Ae.default,ds({ref:e,accessibilityRole:"button"},t))));function vs(){return vs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},vs.apply(this,arguments)}function ps(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const gs=Ei(fs,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!1});class ms extends w.Component{constructor(t){super(t),ps(this,"lastActive",void 0),ps(this,"longPressTimeout",void 0),ps(this,"longPressDetected",void 0),ps(this,"handleEvent",(({nativeEvent:t})=>{const{state:e,oldState:i,pointerInside:s}=t,r=s&&e===n.ACTIVE;r!==this.lastActive&&this.props.onActiveStateChange&&this.props.onActiveStateChange(r),!this.longPressDetected&&i===n.ACTIVE&&e!==n.CANCELLED&&this.lastActive&&this.props.onPress&&this.props.onPress(s),!this.lastActive&&e===("android"!==C.default.OS?n.ACTIVE:n.BEGAN)&&s?(this.longPressDetected=!1,this.props.onLongPress&&(this.longPressTimeout=setTimeout(this.onLongPress,this.props.delayLongPress))):(e!==n.ACTIVE||s||void 0===this.longPressTimeout)&&(void 0===this.longPressTimeout||e!==n.END&&e!==n.CANCELLED&&e!==n.FAILED)||(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0),this.lastActive=r})),ps(this,"onLongPress",(()=>{var t,e;this.longPressDetected=!0,null===(t=(e=this.props).onLongPress)||void 0===t||t.call(e)})),ps(this,"onHandlerStateChange",(t=>{var e,i;null===(e=(i=this.props).onHandlerStateChange)||void 0===e||e.call(i,t),this.handleEvent(t)})),ps(this,"onGestureEvent",(t=>{var e,i;null===(e=(i=this.props).onGestureEvent)||void 0===e||e.call(i,t),this.handleEvent(t)})),this.lastActive=!1,this.longPressDetected=!1}render(){const{rippleColor:t,style:e,...i}=this.props;return w.createElement(gs,vs({ref:this.props.innerRef,rippleColor:(0,us.A)(t),style:[e,"ios"===C.default.OS&&{cursor:void 0}]},i,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}))}}ps(ms,"defaultProps",{delayLongPress:600});const Es=w.forwardRef(((t,e)=>w.createElement(ms,vs({innerRef:e},t)))),Ts=cs.A.createAnimatedComponent(Es),ys=ye.default.create({underlay:{position:"absolute",left:0,right:0,bottom:0,top:0}});class Ss extends w.Component{constructor(t){super(t),ps(this,"opacity",void 0),ps(this,"onActiveStateChange",(t=>{var e,i;"android"!==C.default.OS&&this.opacity.setValue(t?this.props.activeOpacity:0),null===(e=(i=this.props).onActiveStateChange)||void 0===e||e.call(i,t)})),this.opacity=new cs.A.Value(0)}render(){const{children:t,style:e,...i}=this.props,s=ye.default.flatten(null!=e?e:{});return w.createElement(Es,vs({},i,{ref:this.props.innerRef,style:s,onActiveStateChange:this.onActiveStateChange}),w.createElement(cs.A.View,{style:[ys.underlay,{opacity:this.opacity,backgroundColor:this.props.underlayColor,borderRadius:s.borderRadius,borderTopLeftRadius:s.borderTopLeftRadius,borderTopRightRadius:s.borderTopRightRadius,borderBottomLeftRadius:s.borderBottomLeftRadius,borderBottomRightRadius:s.borderBottomRightRadius}]}),t)}}ps(Ss,"defaultProps",{activeOpacity:.105,underlayColor:"black"});const bs=w.forwardRef(((t,e)=>w.createElement(Ss,vs({innerRef:e},t))));class As extends w.Component{constructor(t){super(t),ps(this,"opacity",void 0),ps(this,"onActiveStateChange",(t=>{var e,i;"android"!==C.default.OS&&this.opacity.setValue(t?this.props.activeOpacity:1),null===(e=(i=this.props).onActiveStateChange)||void 0===e||e.call(i,t)})),this.opacity=new cs.A.Value(1)}render(){const{children:t,style:e,innerRef:i,...s}=this.props;return w.createElement(Ts,vs({},s,{innerRef:i,onActiveStateChange:this.onActiveStateChange,style:[e,"ios"===C.default.OS&&{opacity:this.opacity}]}),t)}}ps(As,"defaultProps",{activeOpacity:.3,borderless:!0});const Ps=w.forwardRef(((t,e)=>w.createElement(As,vs({innerRef:e},t)))),Os=i(14504).A;function ws(){return ws=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ws.apply(this,arguments)}function Cs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Is extends w.Component{constructor(...t){super(...t),Cs(this,"pressInTimeout",void 0),Cs(this,"pressOutTimeout",void 0),Cs(this,"longPressTimeout",void 0),Cs(this,"longPressDetected",!1),Cs(this,"pointerInside",!0),Cs(this,"STATE",0),Cs(this,"onGestureEvent",(({nativeEvent:{pointerInside:t}})=>{this.pointerInside!==t&&(t?this.onMoveIn():this.onMoveOut()),this.pointerInside=t})),Cs(this,"onHandlerStateChange",(({nativeEvent:t})=>{const{state:e}=t;if(e===n.CANCELLED||e===n.FAILED)this.moveToState(0);else if(e===("android"!==C.default.OS?n.ACTIVE:n.BEGAN)&&0===this.STATE)this.handlePressIn();else if(e===n.END){const t=!this.longPressDetected&&2!==this.STATE&&null===this.pressOutTimeout;var i,s;this.handleGoToUndetermined(),t&&(null===(i=(s=this.props).onPress)||void 0===i||i.call(s))}})),Cs(this,"onLongPressDetected",(()=>{var t,e;this.longPressDetected=!0,null===(t=(e=this.props).onLongPress)||void 0===t||t.call(e)}))}handlePressIn(){if(this.props.delayPressIn?this.pressInTimeout=setTimeout((()=>{this.moveToState(1),this.pressInTimeout=null}),this.props.delayPressIn):this.moveToState(1),this.props.onLongPress){const t=(this.props.delayPressIn||0)+(this.props.delayLongPress||0);this.longPressTimeout=setTimeout(this.onLongPressDetected,t)}}handleMoveOutside(){this.props.delayPressOut?this.pressOutTimeout=this.pressOutTimeout||setTimeout((()=>{this.moveToState(2),this.pressOutTimeout=null}),this.props.delayPressOut):this.moveToState(2)}handleGoToUndetermined(){clearTimeout(this.pressOutTimeout),this.props.delayPressOut?this.pressOutTimeout=setTimeout((()=>{0===this.STATE&&this.moveToState(1),this.moveToState(0),this.pressOutTimeout=null}),this.props.delayPressOut):(0===this.STATE&&this.moveToState(1),this.moveToState(0))}componentDidMount(){this.reset()}reset(){this.longPressDetected=!1,this.pointerInside=!0,clearTimeout(this.pressInTimeout),clearTimeout(this.pressOutTimeout),clearTimeout(this.longPressTimeout),this.pressOutTimeout=null,this.longPressTimeout=null,this.pressInTimeout=null}moveToState(t){var e,i;if(t!==this.STATE){var s,n;if(1===t)null===(s=(n=this.props).onPressIn)||void 0===s||s.call(n);else if(2===t){var r,o;null===(r=(o=this.props).onPressOut)||void 0===r||r.call(o)}else if(0===t){var a,l;this.reset(),1===this.STATE&&(null===(a=(l=this.props).onPressOut)||void 0===a||a.call(l))}null===(e=(i=this.props).onStateChange)||void 0===e||e.call(i,this.STATE,t),this.STATE=t}}componentWillUnmount(){this.reset()}onMoveIn(){2===this.STATE&&this.moveToState(1)}onMoveOut(){clearTimeout(this.longPressTimeout),this.longPressTimeout=null,1===this.STATE&&this.handleMoveOutside()}render(){var t,e;const i=null!==(t="number"==typeof this.props.hitSlop?{top:this.props.hitSlop,left:this.props.hitSlop,bottom:this.props.hitSlop,right:this.props.hitSlop}:this.props.hitSlop)&&void 0!==t?t:void 0,s={accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,nativeID:this.props.nativeID,onLayout:this.props.onLayout};return w.createElement(Es,ws({style:this.props.containerStyle,onHandlerStateChange:this.props.disabled?void 0:this.onHandlerStateChange,onGestureEvent:this.onGestureEvent,hitSlop:i,userSelect:this.props.userSelect,shouldActivateOnStart:this.props.shouldActivateOnStart,disallowInterruption:this.props.disallowInterruption,testID:this.props.testID,touchSoundDisabled:null!==(e=this.props.touchSoundDisabled)&&void 0!==e&&e,enabled:!this.props.disabled},this.props.extraButtonProps),w.createElement(cs.A.View,ws({},s,{style:this.props.style}),this.props.children))}}function Ns(){return Ns=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ns.apply(this,arguments)}Cs(Is,"defaultProps",{delayLongPress:600,extraButtonProps:{rippleColor:"transparent",exclusive:!0}});const Ds=w.forwardRef(((t,e)=>w.createElement(Is,Ns({ref:e},t))));Ds.defaultProps=Is.defaultProps;const Rs=Ds;var Ms=i(96693);function xs(){return xs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},xs.apply(this,arguments)}function Gs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class ks extends w.Component{constructor(...t){super(...t),Gs(this,"getChildStyleOpacityWithDefault",(()=>{const t=ye.default.flatten(this.props.style)||{};return null==t.opacity?1:t.opacity.valueOf()})),Gs(this,"opacity",new cs.A.Value(this.getChildStyleOpacityWithDefault())),Gs(this,"setOpacityTo",((t,e)=>{var i;cs.A.timing(this.opacity,{toValue:t,duration:e,easing:Ms.A.inOut(Ms.A.quad),useNativeDriver:null===(i=this.props.useNativeAnimations)||void 0===i||i}).start()})),Gs(this,"onStateChange",((t,e)=>{1===e?this.setOpacityTo(this.props.activeOpacity,0):0!==e&&2!==e||this.setOpacityTo(this.getChildStyleOpacityWithDefault(),150)}))}render(){const{style:t={},...e}=this.props;return w.createElement(Is,xs({},e,{style:[t,{opacity:this.opacity}],onStateChange:this.onStateChange}),this.props.children?this.props.children:w.createElement(Ae.default,null))}}function Hs(){return Hs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Hs.apply(this,arguments)}function Xs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Gs(ks,"defaultProps",{...Is.defaultProps,activeOpacity:.2});class Fs extends w.Component{constructor(t){super(t),Xs(this,"showUnderlay",(()=>{var t,e;this.hasPressHandler()&&(this.setState({extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}),null===(t=(e=this.props).onShowUnderlay)||void 0===t||t.call(e))})),Xs(this,"hasPressHandler",(()=>this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress)),Xs(this,"hideUnderlay",(()=>{var t,e;this.setState({extraChildStyle:null,extraUnderlayStyle:null}),null===(t=(e=this.props).onHideUnderlay)||void 0===t||t.call(e)})),Xs(this,"onStateChange",((t,e)=>{1===e?this.showUnderlay():0!==e&&2!==e||this.hideUnderlay()})),this.state={extraChildStyle:null,extraUnderlayStyle:null}}renderChildren(){if(!this.props.children)return w.createElement(Ae.default,null);const t=w.Children.only(this.props.children);return w.cloneElement(t,{style:ye.default.compose(t.props.style,this.state.extraChildStyle)})}render(){const{style:t={},...e}=this.props,{extraUnderlayStyle:i}=this.state;return w.createElement(Is,Hs({},e,{style:[t,i],onStateChange:this.onStateChange}),this.renderChildren())}}Xs(Fs,"defaultProps",{...Is.defaultProps,activeOpacity:.85,delayPressOut:100,underlayColor:"black"});var Ys=i(34951),Ls=i(37043),_s=i(15782),Vs=i(57061);function Us(){return Us=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Us.apply(this,arguments)}const Ws=Ei(Ys.default,{disallowInterruption:!1}),Bs=Ei(Ls.A,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!0,disallowInterruption:!0}),js=Ei(_s.default),qs=()=>(console.warn("DrawerLayoutAndroid is not supported on web!"),w.createElement(Ae.default,null)),zs=Ei(Ae.default),$s=w.forwardRef(((t,e)=>w.createElement(Vs.A,Us({ref:e},t,{renderScrollComponent:t=>w.createElement(Ws,t)}))));var Js=i(78506);function Ks(){return Ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ks.apply(this,arguments)}const Zs=(0,w.forwardRef)(((t,e)=>{const{onPress:i,...s}=t,n=(0,w.useRef)(null),r=hs.Native().runOnJS(!0);return(0,w.useEffect)((()=>{if("web"!==C.default.OS)return;const t=e?e.current:n.current;null==t||t.setAttribute("rnghtext","true")}),[]),w.createElement(Ui,{gesture:r},w.createElement(Js.default,Ks({onPress:i,ref:t=>{n.current=t,null!==e&&("function"==typeof e?e(t):e.current=t)}},s)))}));var Qs=i(95784);function tn(){return tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},tn.apply(this,arguments)}function en(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class sn extends w.Component{constructor(t){super(t),en(this,"onGestureEvent",void 0),en(this,"transX",void 0),en(this,"showLeftAction",void 0),en(this,"leftActionTranslate",void 0),en(this,"showRightAction",void 0),en(this,"rightActionTranslate",void 0),en(this,"updateAnimatedEvent",((t,e)=>{const{friction:i,overshootFriction:s}=t,{dragX:n,rowTranslation:r,leftWidth:o=0,rowWidth:a=0}=e,{rightOffset:l=a}=e,h=Math.max(0,a-l),{overshootLeft:u=o>0,overshootRight:c=h>0}=t,d=cs.A.add(r,n.interpolate({inputRange:[0,i],outputRange:[0,1]})).interpolate({inputRange:[-h-1,-h,o,o+1],outputRange:[-h-(c?1/s:0),-h,o,o+(u?1/s:0)]});this.transX=d,this.showLeftAction=o>0?d.interpolate({inputRange:[-1,0,o],outputRange:[0,0,1]}):new cs.A.Value(0),this.leftActionTranslate=this.showLeftAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"}),this.showRightAction=h>0?d.interpolate({inputRange:[-h,0,1],outputRange:[1,0,0]}):new cs.A.Value(0),this.rightActionTranslate=this.showRightAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"})})),en(this,"onTapHandlerStateChange",(({nativeEvent:t})=>{t.oldState===n.ACTIVE&&this.close()})),en(this,"onHandlerStateChange",(t=>{if(t.nativeEvent.oldState===n.ACTIVE&&this.handleRelease(t),t.nativeEvent.state===n.ACTIVE){const{velocityX:n,translationX:o}=t.nativeEvent,{rowState:a}=this.state,{friction:l}=this.props,h=-1===a?"right":1===a||(o+.05*n)/l>0?"left":"right";var e,i,s,r;0===a?null===(e=(i=this.props).onSwipeableOpenStartDrag)||void 0===e||e.call(i,h):null===(s=(r=this.props).onSwipeableCloseStartDrag)||void 0===s||s.call(r,h)}})),en(this,"handleRelease",(t=>{const{velocityX:e,translationX:i}=t.nativeEvent,{leftWidth:s=0,rowWidth:n=0,rowState:r}=this.state,{rightOffset:o=n}=this.state,a=n-o,{friction:l,leftThreshold:h=s/2,rightThreshold:u=a/2}=this.props,c=this.currentOffset()+i/l,d=(i+.05*e)/l;let f=0;0===r?d>h?f=s:d<-u&&(f=-a):1===r?d>-h&&(f=s):d<u&&(f=-a),this.animateRow(c,f,e/l)})),en(this,"animateRow",((t,e,i)=>{const{dragX:s,rowTranslation:n}=this.state;var r,o,a,l;if(s.setValue(0),n.setValue(t),this.setState({rowState:Math.sign(e)}),cs.A.spring(n,{restSpeedThreshold:1.7,restDisplacementThreshold:.4,velocity:i,bounciness:0,toValue:e,useNativeDriver:this.props.useNativeAnimations,...this.props.animationOptions}).start((({finished:i})=>{var s,n,r,o;if(i)if(e>0)null===(s=(n=this.props).onSwipeableLeftOpen)||void 0===s||s.call(n),null===(r=(o=this.props).onSwipeableOpen)||void 0===r||r.call(o,"left",this);else if(e<0){var a,l,h,u;null===(a=(l=this.props).onSwipeableRightOpen)||void 0===a||a.call(l),null===(h=(u=this.props).onSwipeableOpen)||void 0===h||h.call(u,"right",this)}else{var c,d;const e=t>0?"left":"right";null===(c=(d=this.props).onSwipeableClose)||void 0===c||c.call(d,e,this)}})),e>0)null===(r=(o=this.props).onSwipeableLeftWillOpen)||void 0===r||r.call(o),null===(a=(l=this.props).onSwipeableWillOpen)||void 0===a||a.call(l,"left");else if(e<0){var h,u,c,d;null===(h=(u=this.props).onSwipeableRightWillOpen)||void 0===h||h.call(u),null===(c=(d=this.props).onSwipeableWillOpen)||void 0===c||c.call(d,"right")}else{var f,v;const e=t>0?"left":"right";null===(f=(v=this.props).onSwipeableWillClose)||void 0===f||f.call(v,e)}})),en(this,"onRowLayout",(({nativeEvent:t})=>{this.setState({rowWidth:t.layout.width})})),en(this,"currentOffset",(()=>{const{leftWidth:t=0,rowWidth:e=0,rowState:i}=this.state,{rightOffset:s=e}=this.state;return 1===i?t:-1===i?-(e-s):0})),en(this,"close",(()=>{this.animateRow(this.currentOffset(),0)})),en(this,"openLeft",(()=>{const{leftWidth:t=0}=this.state;this.animateRow(this.currentOffset(),t)})),en(this,"openRight",(()=>{const{rowWidth:t=0}=this.state,{rightOffset:e=t}=this.state,i=t-e;this.animateRow(this.currentOffset(),-i)})),en(this,"reset",(()=>{const{dragX:t,rowTranslation:e}=this.state;t.setValue(0),e.setValue(0),this.setState({rowState:0})}));const e=new cs.A.Value(0);this.state={dragX:e,rowTranslation:new cs.A.Value(0),rowState:0,leftWidth:void 0,rightOffset:void 0,rowWidth:void 0},this.updateAnimatedEvent(t,this.state),this.onGestureEvent=cs.A.event([{nativeEvent:{translationX:e}}],{useNativeDriver:t.useNativeAnimations})}shouldComponentUpdate(t,e){return this.props.friction===t.friction&&this.props.overshootLeft===t.overshootLeft&&this.props.overshootRight===t.overshootRight&&this.props.overshootFriction===t.overshootFriction&&this.state.leftWidth===e.leftWidth&&this.state.rightOffset===e.rightOffset&&this.state.rowWidth===e.rowWidth||this.updateAnimatedEvent(t,e),!0}render(){const{rowState:t}=this.state,{children:e,renderLeftActions:i,renderRightActions:s,dragOffsetFromLeftEdge:n=10,dragOffsetFromRightEdge:r=10}=this.props,o=i&&w.createElement(cs.A.View,{style:[nn.leftActions,{transform:[{translateX:this.leftActionTranslate}]}]},i(this.showLeftAction,this.transX,this),w.createElement(Ae.default,{onLayout:({nativeEvent:t})=>this.setState({leftWidth:t.layout.x})})),a=s&&w.createElement(cs.A.View,{style:[nn.rightActions,{transform:[{translateX:this.rightActionTranslate}]}]},s(this.showRightAction,this.transX,this),w.createElement(Ae.default,{onLayout:({nativeEvent:t})=>this.setState({rightOffset:t.layout.x})}));return w.createElement(li,tn({activeOffsetX:[-r,n],touchAction:"pan-y"},this.props,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}),w.createElement(cs.A.View,{onLayout:this.onRowLayout,style:[nn.container,this.props.containerStyle]},o,a,w.createElement(Qe,{enabled:0!==t,touchAction:"pan-y",onHandlerStateChange:this.onTapHandlerStateChange},w.createElement(cs.A.View,{pointerEvents:0===t?"auto":"box-only",style:[{transform:[{translateX:this.transX}]},this.props.childrenContainerStyle]},e))))}}en(sn,"defaultProps",{friction:1,overshootFriction:1,useNativeAnimations:!0});const nn=ye.default.create({container:{overflow:"hidden"},leftActions:{...ye.default.absoluteFillObject,flexDirection:Qs.A.isRTL?"row-reverse":"row"},rightActions:{...ye.default.absoluteFillObject,flexDirection:Qs.A.isRTL?"row":"row-reverse"}}),rn=t=>({left:t,right:t,top:t,bottom:t}),on=(t,e)=>{var i,s,n,r,o,a,l,h;return{left:(null!==(i=t.left)&&void 0!==i?i:0)+(null!==(s=e.left)&&void 0!==s?s:0),right:(null!==(n=t.right)&&void 0!==n?n:0)+(null!==(r=e.right)&&void 0!==r?r:0),top:(null!==(o=t.top)&&void 0!==o?o:0)+(null!==(a=e.top)&&void 0!==a?a:0),bottom:(null!==(l=t.bottom)&&void 0!==l?l:0)+(null!==(h=e.bottom)&&void 0!==h?h:0)}},an=(t,e,i)=>({identifier:t.id,locationX:t.x,locationY:t.y,pageX:t.absoluteX,pageY:t.absoluteY,target:i,timestamp:e,touches:[],changedTouches:[]}),ln=(t,e,i)=>{var s,n,r,o,a,l,h,u;return(null!==(s=null==i?void 0:i.x)&&void 0!==s?s:0)<(null!==(n=e.right)&&void 0!==n?n:0)+t.width&&(null!==(r=null==i?void 0:i.y)&&void 0!==r?r:0)<(null!==(o=e.bottom)&&void 0!==o?o:0)+t.height&&(null!==(a=null==i?void 0:i.x)&&void 0!==a?a:0)>-(null!==(l=e.left)&&void 0!==l?l:0)&&(null!==(h=null==i?void 0:i.y)&&void 0!==h?h:0)>-(null!==(u=e.top)&&void 0!==u?u:0)},hn=t=>{const e=Date.now(),i=((t,e)=>({identifier:t.handlerTag,locationX:t.x,locationY:t.y,pageX:t.absoluteX,pageY:t.absoluteY,target:0,timestamp:e,touches:[],changedTouches:[]}))(t,e);return{nativeEvent:{touches:[i],changedTouches:[i],identifier:i.identifier,locationX:t.x,locationY:t.y,pageX:t.absoluteX,pageY:t.absoluteY,target:0,timestamp:e,force:void 0}}},un=t=>{var e,i,s,n,r,o,a,l;const h=Date.now();return{nativeEvent:{touches:t.allTouches.map((t=>an(t,h,0))),changedTouches:t.changedTouches.map((t=>an(t,h,0))),identifier:t.handlerTag,locationX:null!==(e=null===(i=t.allTouches.at(0))||void 0===i?void 0:i.x)&&void 0!==e?e:-1,locationY:null!==(s=null===(n=t.allTouches.at(0))||void 0===n?void 0:n.y)&&void 0!==s?s:-1,pageX:null!==(r=null===(o=t.allTouches.at(0))||void 0===o?void 0:o.absoluteX)&&void 0!==r?r:-1,pageY:null!==(a=null===(l=t.allTouches.at(0))||void 0===l?void 0:l.absoluteY)&&void 0!==a?a:-1,target:0,timestamp:h,force:void 0}}};function cn(){return cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},cn.apply(this,arguments)}const dn=500;function fn(t){var e,i;const{testOnly_pressed:s,hitSlop:n,pressRetentionOffset:r,delayHoverIn:o,onHoverIn:a,delayHoverOut:h,onHoverOut:u,delayLongPress:c,unstable_pressDelay:d,onPress:f,onPressIn:v,onPressOut:p,onLongPress:g,style:m,children:E,android_disableSound:T,android_ripple:y,disabled:S,...b}=t,[A,P]=(0,w.useState)(null!=s&&s),O=(0,w.useRef)(null),I=(0,w.useRef)(!0),N=(0,w.useRef)(!1),D=(0,w.useRef)(!1),R=(0,w.useMemo)((()=>"number"==typeof n?rn(n):null!=n?n:{}),[n]),M=(0,w.useMemo)((()=>"number"==typeof r?rn(r):null!=r?r:{}),[r]),x=(0,w.useRef)(null),G=(0,w.useRef)(null),k=(0,w.useMemo)((()=>hs.Hover().manualActivation(!0).cancelsTouchesInView(!1).onBegin((t=>{G.current&&clearTimeout(G.current),o?x.current=setTimeout((()=>null==a?void 0:a(hn(t))),o):null==a||a(hn(t))})).onFinalize((t=>{x.current&&clearTimeout(x.current),h?G.current=setTimeout((()=>null==u?void 0:u(hn(t))),h):null==u||u(hn(t))}))),[o,h,a,u]),H=(0,w.useRef)(null),X=(0,w.useRef)(!1),F=(0,w.useRef)(null),Y=(0,w.useCallback)((t=>{_.current&&(F.current=t),X.current&&(F.current=null,null==v||v(t),I.current=!0,H.current=null,P(!0))}),[v]),L=(0,w.useCallback)((t=>{!N.current||t.nativeEvent.touches.length>t.nativeEvent.changedTouches.length||(d&&null!==H.current&&(clearTimeout(H.current),Y(t)),F.current&&(null==v||v(F.current),F.current=null),null==p||p(t),I.current&&(null==f||f(t)),B.current&&(clearTimeout(B.current),B.current=null),X.current=!1,N.current=!1,I.current=!0,P(!1))}),[f,v,p,Y,d]),_=(0,w.useRef)(!1),V=(0,w.useRef)(null),U=(0,w.useRef)(!1),W=(0,w.useCallback)((t=>{X.current&&(N.current&&(null==g||g(un(t)),I.current=!1),B.current&&(clearTimeout(B.current),B.current=null))}),[g]),B=(0,w.useRef)(null),j=(null!=c?c:dn)+(null!=d?d:0),q=(0,w.useMemo)((()=>hs.LongPress().minDuration(l).maxDistance(l).cancelsTouchesInView(!1).onTouchesDown((t=>{var e;_.current=!0,null===(e=O.current)||void 0===e||e.measure(((e,i,s,n)=>{var r;if(!ln({width:s,height:n},R,t.changedTouches.at(-1))||N.current||U.current)return U.current=!1,V.current=null,void(_.current=!1);N.current=!0,null===B.current&&(B.current=setTimeout((()=>W(t)),j)),d?H.current=setTimeout((()=>{Y(un(t))}),d):Y(un(t)),null===(r=V.current)||void 0===r||r.call(V),V.current=null,_.current=!1}))})).onTouchesUp((t=>{_.current?V.current=()=>L(un(t)):(null!==F.current&&(D.current=!0),L(un(t)))})).onTouchesCancelled((t=>{if(I.current=!1,_.current)return U.current=!0,void(V.current=()=>L(un(t)));!N.current||t.allTouches.length>t.changedTouches.length||L(un(t))}))),[W,j,R,Y,L,d]),z=(0,w.useMemo)((()=>hs.Native().onBegin((()=>{"android"!==C.default.OS&&"macos"!==C.default.OS||(X.current=!0)})).onStart((()=>{if("web"===C.default.OS&&(X.current=!0),"ios"===C.default.OS)return F.current?(X.current=!0,void(N.current?(Y(F.current),F.current=null):(L(F.current),X.current=!1))):void(N.current?X.current=!0:D.current?D.current=!1:X.current=!0)}))),[Y,L]),$=on(R,M),J=!0!==S,K=[z,q,k];for(const t of K)t.enabled(J),t.runOnJS(!0),t.hitSlop($),t.shouldCancelWhenOutside("web"!==C.default.OS);z.hitSlop(R);const Z=hs.Simultaneous(...K),Q=y?void 0:"transparent",tt="web"===C.default.OS?{cursor:"pointer"}:{},et="function"==typeof m?m({pressed:A}):m,it="function"==typeof E?E({pressed:A}):E;return w.createElement(Ui,{gesture:Z},w.createElement(fs,cn({},b,{ref:O,hitSlop:$,enabled:J,touchSoundDisabled:null!=T?T:void 0,rippleColor:(0,us.A)(null!==(e=null==y?void 0:y.color)&&void 0!==e?e:Q),rippleRadius:null!==(i=null==y?void 0:y.radius)&&void 0!==i?i:void 0,style:[tt,et]}),it,null))}var vn=i(20311),pn=i.n(vn),gn=i(87068),mn=i(97576);function En(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const Tn="Idle",yn="Dragging",Sn="Settling";class bn extends w.Component{constructor(t){super(t),En(this,"openValue",void 0),En(this,"onGestureEvent",void 0),En(this,"accessibilityIsModalView",w.createRef()),En(this,"pointerEventsView",w.createRef()),En(this,"panGestureHandler",w.createRef()),En(this,"drawerShown",!1),En(this,"updateAnimatedEvent",((t,e)=>{const{drawerPosition:i,drawerWidth:s,drawerType:n}=t,{dragX:r,touchX:o,drawerTranslation:a,containerWidth:l}=e;let h=r,u=o;"left"!==i?(h=cs.A.multiply(new cs.A.Value(-1),r),u=cs.A.add(new cs.A.Value(l),cs.A.multiply(new cs.A.Value(-1),o)),o.setValue(l)):o.setValue(0);let c=h;if("front"===n){const t=cs.A.add(u,cs.A.multiply(new cs.A.Value(-1),h)).interpolate({inputRange:[s-1,s,s+1],outputRange:[0,0,1]});c=cs.A.add(h,t)}this.openValue=cs.A.add(c,a).interpolate({inputRange:[0,s],outputRange:[0,1],extrapolate:"clamp"});const d={useNativeDriver:t.useNativeAnimations};this.props.onDrawerSlide&&(d.listener=t=>{var e,i;const s=Math.floor(Math.abs(t.nativeEvent.translationX))/this.state.containerWidth;null===(e=(i=this.props).onDrawerSlide)||void 0===e||e.call(i,s)}),this.onGestureEvent=cs.A.event([{nativeEvent:{translationX:r,x:o}}],d)})),En(this,"handleContainerLayout",(({nativeEvent:t})=>{this.setState({containerWidth:t.layout.width})})),En(this,"emitStateChanged",((t,e)=>{var i,s;null===(i=(s=this.props).onDrawerStateChanged)||void 0===i||i.call(s,t,e)})),En(this,"openingHandlerStateChange",(({nativeEvent:t})=>{t.oldState===n.ACTIVE?this.handleRelease({nativeEvent:t}):t.state===n.ACTIVE&&(this.emitStateChanged(yn,!1),this.setState({drawerState:yn}),"on-drag"===this.props.keyboardDismissMode&&gn.default.dismiss(),this.props.hideStatusBar&&mn.default.setHidden(!0,this.props.statusBarAnimation||"slide"))})),En(this,"onTapHandlerStateChange",(({nativeEvent:t})=>{this.drawerShown&&t.oldState===n.ACTIVE&&"locked-open"!==this.props.drawerLockMode&&this.closeDrawer()})),En(this,"handleRelease",(({nativeEvent:t})=>{const{drawerWidth:e,drawerPosition:i,drawerType:s}=this.props,{containerWidth:n}=this.state;let{translationX:r,velocityX:o,x:a}=t;"left"!==i&&(r=-r,a=n-a,o=-o);const l=a-r;let h=0;"front"===s&&(h=l>e?l-e:0);const u=r+h+(this.drawerShown?e:0);u+.05*o>e/2?this.animateDrawer(u,e,o):this.animateDrawer(u,0,o)})),En(this,"updateShowing",(t=>{var e,i,s;this.drawerShown=t,null===(e=this.accessibilityIsModalView.current)||void 0===e||e.setNativeProps({accessibilityViewIsModal:t}),null===(i=this.pointerEventsView.current)||void 0===i||i.setNativeProps({pointerEvents:t?"auto":"none"});const{drawerPosition:n,minSwipeDistance:r,edgeWidth:o}=this.props,a="left"===n,l=(a?1:-1)*(this.drawerShown?-1:1),h=a?{left:0,width:t?void 0:o}:{right:0,width:t?void 0:o};null===(s=this.panGestureHandler.current)||void 0===s||s.setNativeProps({hitSlop:h,activeOffsetX:l*r})})),En(this,"animateDrawer",((t,e,i,s)=>{if(this.state.dragX.setValue(0),this.state.touchX.setValue("left"===this.props.drawerPosition?0:this.state.containerWidth),null!=t){let s=t;this.props.useNativeAnimations&&(t<e&&i>0?s=Math.min(t+i/60,e):t>e&&i<0&&(s=Math.max(t+i/60,e))),this.state.drawerTranslation.setValue(s)}const n=0!==e;this.updateShowing(n),this.emitStateChanged(Sn,n),this.setState({drawerState:Sn}),this.props.hideStatusBar&&mn.default.setHidden(n,this.props.statusBarAnimation||"slide"),cs.A.spring(this.state.drawerTranslation,{velocity:i,bounciness:0,toValue:e,useNativeDriver:this.props.useNativeAnimations,speed:null!=s?s:void 0}).start((({finished:t})=>{var e,i,s,r;t&&(this.emitStateChanged(Tn,n),this.setState({drawerOpened:n}),this.state.drawerState!==yn&&this.setState({drawerState:Tn}),n?null===(e=(i=this.props).onDrawerOpen)||void 0===e||e.call(i):null===(s=(r=this.props).onDrawerClose)||void 0===s||s.call(r))}))})),En(this,"openDrawer",((t={})=>{this.animateDrawer(void 0,this.props.drawerWidth,t.velocity?t.velocity:0,t.speed),this.forceUpdate()})),En(this,"closeDrawer",((t={})=>{this.animateDrawer(void 0,0,t.velocity?t.velocity:0,t.speed),this.forceUpdate()})),En(this,"renderOverlay",(()=>{let t;pn()(this.openValue,"should be set"),t=this.state.drawerState!==Tn?this.openValue:this.state.drawerOpened?1:0;const e={opacity:t,backgroundColor:this.props.overlayColor};return w.createElement(Qe,{onHandlerStateChange:this.onTapHandlerStateChange},w.createElement(cs.A.View,{pointerEvents:this.drawerShown?"auto":"none",ref:this.pointerEventsView,style:[An.overlay,e]}))})),En(this,"renderDrawer",(()=>{const{drawerBackgroundColor:t,drawerWidth:e,drawerPosition:i,drawerType:s,drawerContainerStyle:n,contentContainerStyle:r}=this.props,o="left"===i,a="back"!==s,l="front"!==s,h=Qs.A.isRTL?o:!o,u={backgroundColor:t,width:e},c=this.openValue;let d;pn()(c,"should be set"),l&&(d={transform:[{translateX:c.interpolate({inputRange:[0,1],outputRange:o?[0,e]:[0,-e],extrapolate:"clamp"})}]});let f=0;if(a){const t=o?-e:e;f=this.state.drawerState!==Tn?c.interpolate({inputRange:[0,1],outputRange:[t,0],extrapolate:"clamp"}):this.state.drawerOpened?0:t}const v={transform:[{translateX:f}],flexDirection:h?"row-reverse":"row"};return w.createElement(cs.A.View,{style:An.main,onLayout:this.handleContainerLayout},w.createElement(cs.A.View,{style:["front"===s?An.containerOnBack:An.containerInFront,d,r],importantForAccessibility:this.drawerShown?"no-hide-descendants":"yes"},"function"==typeof this.props.children?this.props.children(this.openValue):this.props.children,this.renderOverlay()),w.createElement(cs.A.View,{pointerEvents:"box-none",ref:this.accessibilityIsModalView,accessibilityViewIsModal:this.drawerShown,style:[An.drawerContainer,v,n]},w.createElement(Ae.default,{style:u},this.props.renderNavigationView(this.openValue))))})),En(this,"setPanGestureRef",(t=>{var e,i;this.panGestureHandler.current=t,null===(e=(i=this.props).onGestureRef)||void 0===e||e.call(i,t)}));const e=new cs.A.Value(0),i=new cs.A.Value(0),s=new cs.A.Value(0);this.state={dragX:e,touchX:i,drawerTranslation:s,containerWidth:0,drawerState:Tn,drawerOpened:!1},this.updateAnimatedEvent(t,this.state)}shouldComponentUpdate(t,e){return this.props.drawerPosition===t.drawerPosition&&this.props.drawerWidth===t.drawerWidth&&this.props.drawerType===t.drawerType&&this.state.containerWidth===e.containerWidth||this.updateAnimatedEvent(t,e),!0}render(){const{drawerPosition:t,drawerLockMode:e,edgeWidth:i,minSwipeDistance:s}=this.props,n="left"===t,r=(n?1:-1)*(this.drawerShown?-1:1),o=n?{left:0,width:this.drawerShown?void 0:i}:{right:0,width:this.drawerShown?void 0:i};return w.createElement(li,{userSelect:this.props.userSelect,activeCursor:this.props.activeCursor,mouseButton:this.props.mouseButton,enableContextMenu:this.props.enableContextMenu,ref:this.setPanGestureRef,hitSlop:o,activeOffsetX:r*s,failOffsetY:[-15,15],onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.openingHandlerStateChange,enableTrackpadTwoFingerGesture:this.props.enableTrackpadTwoFingerGesture,enabled:"locked-closed"!==e&&"locked-open"!==e},this.renderDrawer())}}En(bn,"defaultProps",{drawerWidth:200,drawerPosition:"left",useNativeAnimations:!0,drawerType:"front",edgeWidth:20,minSwipeDistance:3,overlayColor:"rgba(0, 0, 0, 0.7)",drawerLockMode:"unlocked",enableTrackpadTwoFingerGesture:!1}),En(bn,"positions",{Left:"left",Right:"right"});const An=ye.default.create({drawerContainer:{...ye.default.absoluteFillObject,zIndex:1001,flexDirection:"row"},containerInFront:{...ye.default.absoluteFillObject,zIndex:1002},containerOnBack:{...ye.default.absoluteFillObject},main:{flex:1,zIndex:0,overflow:"hidden"},overlay:{...ye.default.absoluteFillObject,zIndex:1e3}});y&&(y.remove(),y=null),S&&(S.remove(),S=null),y=s.A.addListener("onGestureHandlerEvent",O),S=s.A.addListener("onGestureHandlerStateChange",O)}}]);